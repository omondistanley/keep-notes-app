{"version":3,"sources":["config.js","components/Header.jsx","components/Footer.jsx","components/Note.jsx","components/CreateArea.jsx","components/TrashView.jsx","components/ExportImport.jsx","components/TemplateSelector.jsx","contexts/ThemeContext.jsx","components/ThemeToggle.jsx","components/IntegrationDashboard.jsx","components/CommandPalette.jsx","components/SplitView.jsx","components/VoiceRecorder.jsx","components/DrawingCanvas.jsx","components/FocusMode.jsx","components/EnhancedNoteForm.jsx","components/DeadlinesView.jsx","hooks/useWebSocket.js","components/App.jsx","index.js"],"names":["API_BASE","getApiBase","_process$env","process","REACT_APP_API_URL","replace","WS_URL","getWsUrl","_process$env2","REACT_APP_WS_URL","Header","React","createElement","Footer","currYear","Date","getFullYear","buttonStyle","position","float","marginRight","color","border","width","height","cursor","outline","background","fontSize","tagStyle","display","padding","borderRadius","margin","priorityStyle","fontWeight","marginLeft","priorityColors","urgent","high","medium","low","sectionStyle","marginTop","Note","props","_props$social","_props$social$x","isEditing","setIsEditing","useState","editTitle","setEditTitle","title","editContent","setEditContent","content","integrationLoading","setIntegrationLoading","async","handleIntegrationAction","key","fn","id","onIntegrationComplete","className","style","type","value","onChange","e","target","marginBottom","placeholder","minHeight","resize","onClick","onUpdate","_objectSpread","hasDeadline","deadline","date","time","hasNews","news","articles","length","hasFinancial","financial","summary","data","prices","tweets","social","x","hasSocial","Array","isArray","hasAttachments","attachments","hasDrawings","drawings","hasIntegrationActions","onFetchNews","onFetchTweets","onUpdateFinancial","onUpdateAll","borderLeft","isPinned","role","aria-label","top","right","tags","map","tag","index","priority","toUpperCase","toLocaleString","status","concat","snippet","p","i","symbol","price","join","text","substring","flexWrap","gap","att","url","src","alt","maxWidth","maxHeight","objectFit","alignItems","disabled","onOpenEnhancedEdit","onPin","onArchive","isArchived","onTrash","window","confirm","onDelete","bottom","boxShadow","noteStyle","fontFamily","noteFormat","CreateArea","note","setNote","tagInput","setTagInput","showIntegrations","setShowIntegrations","integrations","setIntegrations","enabled","keywords","symbols","handleChange","event","name","prevNote","onSubmit","preventDefault","payload","toISOString","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","reminder","intervals","onAdd","rows","removeTag","tagToRemove","filter","onKeyDown","trim","newTag","includes","slice","prev","checked","split","k","Boolean","s","TrashView","_ref","onRestore","onDeletePermanent","trashedNotes","setTrashedNotes","fetchTrashedNotes","response","fetch","ok","notes","json","error","console","handleDeletePermanent","method","useEffect","justifyContent","Promise","all","_id","textAlign","headers","body","JSON","stringify","isDeleted","handleRestore","ExportImport","onImport","importFile","setImportFile","exportingFromServer","setExportingFromServer","exportToJSON","dataStr","dataBlob","Blob","URL","createObjectURL","link","document","href","download","click","revokeObjectURL","exportToMarkdown","markdown","forEach","createdAt","res","Error","blob","a","alert","accept","file","files","handleImport","reader","FileReader","onload","importedNotes","parse","result","message","readAsText","TemplateSelector","onSelectTemplate","templates","setTemplates","showSelector","setShowSelector","handleSelectTemplate","template","processed","dateStr","toLocaleDateString","processTemplate","fetchTemplates","zIndex","minWidth","ThemeContext","createContext","ThemeProvider","children","theme","setTheme","localStorage","getItem","setItem","documentElement","setAttribute","Provider","toggleTheme","prevTheme","useTheme","context","useContext","ThemeToggle","IntegrationDashboard","stats","setStats","totalNotes","pinnedNotes","archivedNotes","notesByPriority","allNotes","archived","trashed","then","r","pinned","n","byPriority","fetchStats","gridTemplateColumns","ResponsiveContainer","BarChart","count","fill","left","XAxis","dataKey","tick","YAxis","allowDecimals","Tooltip","contentStyle","labelStyle","Bar","radius","entry","Cell","flexDirection","CommandPalette","isOpen","onClose","onCommand","query","setQuery","selectedIndex","setSelectedIndex","inputRef","useRef","commands","label","action","fuse","Fuse","keys","threshold","filteredCommands","search","item","current","focus","handleKeyDown","Math","min","max","addEventListener","removeEventListener","paddingTop","overflow","stopPropagation","borderBottom","ref","overflowY","command","onMouseEnter","borderTop","SplitView","onNoteSelect","selectedNoteId","splitRatio","setSplitRatio","isDragging","setIsDragging","handleMouseUp","useCallback","handleDocumentMouseMove","container","querySelector","rect","getBoundingClientRect","percentage","clientX","selectedNote","find","borderRight","_note$content","onMouseDown","handleMouseDown","userSelect","undefined","VoiceRecorder","onTranscript","isRecording","setIsRecording","transcript","setTranscript","audioBlob","setAudioBlob","mediaRecorderRef","audioChunksRef","SpeechRecognition","webkitSpeechRecognition","recognitionRef","recognition","continuous","interimResults","lang","onresult","interimTranscript","finalTranscript","resultIndex","results","isFinal","onerror","stopRecording","stop","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","ondataavailable","size","push","onstop","getTracks","track","start","playAudio","audioUrl","Audio","play","handleSave","DrawingCanvas","onSave","initialDrawing","canvasRef","isDrawing","setIsDrawing","setColor","brushSize","setBrushSize","canvas","ctx","getContext","img","Image","drawImage","fillStyle","fillRect","stopDrawing","beginPath","c","parseInt","clearCanvas","saveDrawing","dataURL","toDataURL","y","clientY","moveTo","onMouseMove","lineWidth","lineCap","strokeStyle","lineTo","stroke","onMouseUp","onMouseLeave","FocusMode","onExit","handleFullscreenChange","fullscreenElement","exitFullscreen","flex","EnhancedNoteForm","_note$news","_note$news2","_note$financial","_note$financial2","_note$financial3","_note$social","_note$social$x","_note$social2","_note$social2$x","_note$deadline","onCancel","formData","setFormData","activeTab","setActiveTab","deadlineDate","setDeadlineDate","field","parent","child","handleTagAdd","tab","textTransform","onKeyPress","t","DatePicker","selected","showTimeSelect","dateFormat","handleSubmit","submitData","DeadlinesView","onRefresh","upcoming","setUpcoming","overdue","setOverdue","days","setDays","loading","setLoading","updatingId","setUpdatingId","fetchDeadlines","upRes","overRes","updateDeadlineStatus","noteId","cardStyle","overdueCardStyle","Number","Fragment","_note$deadline2","shared","Map","useWebSocket","onMessage","isConnected","setIsConnected","handlerRef","messageHandlerRef","setConnected","get","ws","readyState","WebSocket","OPEN","set","onopen","send","onmessage","_c$messageHandlerRef","_","err","onclose","getConnection","App","searchInputRef","setNotes","searchQuery","setSearchQuery","sortBy","setSortBy","sortOrder","setSortOrder","filterTags","setFilterTags","filterPriority","setFilterPriority","showArchived","setShowArchived","showTrash","setShowTrash","showExportImport","setShowExportImport","showDashboard","setShowDashboard","showDeadlines","setShowDeadlines","showCommandPalette","setShowCommandPalette","showSplitView","setShowSplitView","showFocusMode","setShowFocusMode","showVoiceRecorder","setShowVoiceRecorder","showDrawing","setShowDrawing","showEnhancedForm","setShowEnhancedForm","setSelectedNoteId","availableTags","setAvailableTags","currentPage","setCurrentPage","notesPerPage","fetchNotes","params","URLSearchParams","append","toString","fetchedNotes","fetchTags","handleWebSocketMessage","metaKey","ctrlKey","handleCommand","setTimeout","_searchInputRef$curre","openEnhancedFormForNote","fetchNewsForNote","fetchTweetsForNote","updateFinancialForNote","updateAllForNote","addNote","newNote","updateNote","updateData","handleTemplateSelect","templateData","paginatedNotes","useMemo","startIndex","totalPages","ceil","pinNote","archiveNote","trashNote","deleteNote","addedNote","prevNotes","noteItem","handleEnhancedFormSave","handleVoiceTranscript","handleDrawingSave","paddingBottom","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.09c105dc.chunk.js","sourcesContent":["/**\n * API and WebSocket base URLs. Use env in production (e.g. Vercel), localhost in dev.\n * Set REACT_APP_API_URL and REACT_APP_WS_URL in Vercel (or .env) when backend is hosted elsewhere.\n */\nconst getApiBase = () => {\n  if (typeof process !== \"undefined\" && process.env?.REACT_APP_API_URL) {\n    return process.env.REACT_APP_API_URL.replace(/\\/$/, \"\");\n  }\n  return \"http://localhost:3050\";\n};\n\nconst getWsUrl = () => {\n  if (typeof process !== \"undefined\" && process.env?.REACT_APP_WS_URL) {\n    return process.env.REACT_APP_WS_URL;\n  }\n  return \"ws://localhost:3051\";\n};\n\nexport const API_BASE = getApiBase();\nexport const WS_URL = getWsUrl();\n","import React from \"react\";\n\nfunction Header() {\n  return (\n    <header>\n      <h1>Keeper</h1>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Footer() {\n  const date = new Date();\n  const currYear = date.getFullYear();\n  return (\n    <footer>\n      <p>Copyright  {currYear}</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, { useState } from \"react\";\n\nconst buttonStyle = {\n  position: \"relative\",\n  float: \"right\",\n  marginRight: \"10px\",\n  color: \"#f5ba13\",\n  border: \"none\",\n  width: \"36px\",\n  height: \"36px\",\n  cursor: \"pointer\",\n  outline: \"none\",\n  background: \"transparent\",\n  fontSize: \"14px\"\n};\n\nconst tagStyle = {\n  display: \"inline-block\",\n  background: \"#f5ba13\",\n  color: \"white\",\n  padding: \"2px 8px\",\n  borderRadius: \"12px\",\n  fontSize: \"12px\",\n  margin: \"2px 4px 2px 0\"\n};\n\nconst priorityStyle = {\n  display: \"inline-block\",\n  padding: \"2px 8px\",\n  borderRadius: \"4px\",\n  fontSize: \"11px\",\n  fontWeight: \"bold\",\n  marginLeft: \"8px\"\n};\n\nconst priorityColors = {\n  urgent: { background: \"#ff4444\", color: \"white\" },\n  high: { background: \"#ff8800\", color: \"white\" },\n  medium: { background: \"#ffbb33\", color: \"black\" },\n  low: { background: \"#99cc00\", color: \"black\" }\n};\n\nconst sectionStyle = {\n  marginTop: \"10px\",\n  padding: \"8px\",\n  background: \"var(--bg-tertiary, #f5f5f5)\",\n  borderRadius: \"4px\",\n  fontSize: \"12px\",\n  color: \"var(--text-secondary, #666)\"\n};\n\nfunction Note(props) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editTitle, setEditTitle] = useState(props.title || \"\");\n  const [editContent, setEditContent] = useState(props.content || \"\");\n  const [integrationLoading, setIntegrationLoading] = useState(null);\n\n  function handleDelete() {\n    if (window.confirm(\"Are you sure you want to delete this note?\")) {\n      props.onDelete(props.id);\n    }\n  }\n\n  function handleEdit() {\n    setIsEditing(true);\n  }\n\n  function handleSave() {\n    props.onUpdate(props.id, {\n      title: editTitle,\n      content: editContent\n    });\n    setIsEditing(false);\n  }\n\n  function handleCancel() {\n    setEditTitle(props.title || \"\");\n    setEditContent(props.content || \"\");\n    setIsEditing(false);\n  }\n\n  function handlePin() {\n    props.onPin(props.id, !props.isPinned);\n  }\n\n  function handleArchive() {\n    props.onArchive(props.id, !props.isArchived);\n  }\n\n  function handleTrash() {\n    props.onTrash(props.id, true);\n  }\n\n  async function handleIntegrationAction(key, fn) {\n    if (!fn) return;\n    setIntegrationLoading(key);\n    try {\n      await fn(props.id);\n      if (props.onIntegrationComplete) props.onIntegrationComplete();\n    } finally {\n      setIntegrationLoading(null);\n    }\n  }\n\n  if (isEditing) {\n    return (\n      <div className=\"note\" style={{ background: \"#fffacd\" }}>\n        <input\n          type=\"text\"\n          value={editTitle}\n          onChange={(e) => setEditTitle(e.target.value)}\n          style={{ width: \"100%\", padding: \"8px\", marginBottom: \"8px\", fontSize: \"1.2em\", border: \"1px solid #ddd\", borderRadius: \"4px\" }}\n          placeholder=\"Title\"\n        />\n        <textarea\n          value={editContent}\n          onChange={(e) => setEditContent(e.target.value)}\n          style={{ width: \"100%\", padding: \"8px\", minHeight: \"100px\", fontSize: \"1em\", border: \"1px solid #ddd\", borderRadius: \"4px\", resize: \"vertical\" }}\n          placeholder=\"Content\"\n        />\n        <div style={{ marginTop: \"10px\" }}>\n          <button onClick={handleSave} style={{ ...buttonStyle, color: \"#4CAF50\", marginRight: \"5px\" }}>\n            SAVE\n          </button>\n          <button onClick={handleCancel} style={{ ...buttonStyle, color: \"#f44336\" }}>\n            CANCEL\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const hasDeadline = props.deadline && (props.deadline.date || props.deadline.time);\n  const hasNews = props.news && props.news.articles && props.news.articles.length > 0;\n  const hasFinancial = props.financial && (props.financial.summary || (props.financial.data && props.financial.data.prices && props.financial.data.prices.length > 0));\n  const tweets = props.social?.x?.tweets;\n  const hasSocial = tweets && Array.isArray(tweets) && tweets.length > 0;\n  const hasAttachments = props.attachments && props.attachments.length > 0;\n  const hasDrawings = props.drawings && props.drawings.length > 0;\n  const hasIntegrationActions = props.onFetchNews || props.onFetchTweets || props.onUpdateFinancial || props.onUpdateAll;\n\n  return (\n    <div className=\"note\" style={{ position: \"relative\", borderLeft: props.isPinned ? \"4px solid #f5ba13\" : \"none\" }}>\n      {props.isPinned && (\n        <span role=\"img\" aria-label=\"Pinned\" style={{ position: \"absolute\", top: \"5px\", right: \"5px\", fontSize: \"20px\" }}></span>\n      )}\n      <h1>{props.title}</h1>\n      <p>{props.content}</p>\n\n      {props.tags && props.tags.length > 0 && (\n        <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\n          {props.tags.map((tag, index) => (\n            <span key={index} style={tagStyle}>\n              {tag}\n            </span>\n          ))}\n        </div>\n      )}\n\n      {props.priority && (\n        <span style={{ ...priorityStyle, ...priorityColors[props.priority] }}>\n          {props.priority.toUpperCase()}\n        </span>\n      )}\n\n      {/* Deadline */}\n      {hasDeadline && (\n        <div style={sectionStyle}>\n          <strong><span role=\"img\" aria-label=\"Deadline\"></span> Deadline:</strong>{\" \"}\n          {props.deadline.date ? new Date(props.deadline.date).toLocaleString() : \"\"}\n          {props.deadline.status && ` (${props.deadline.status})`}\n        </div>\n      )}\n\n      {/* News */}\n      {hasNews && (\n        <div style={sectionStyle}>\n          <strong><span role=\"img\" aria-label=\"News\"></span> News:</strong>{\" \"}\n          {props.news.articles[0].title || props.news.articles[0].snippet}\n        </div>\n      )}\n\n      {/* Financial */}\n      {hasFinancial && (\n        <div style={sectionStyle}>\n          <strong><span role=\"img\" aria-label=\"Financial\"></span> Financial:</strong>{\" \"}\n          {props.financial.summary || (props.financial.data && props.financial.data.prices && props.financial.data.prices.length > 0\n            ? props.financial.data.prices.map((p, i) => `${p.symbol}: ${p.price}`).join(\", \")\n            : \"\")}\n        </div>\n      )}\n\n      {/* Social / Tweets */}\n      {hasSocial && (\n        <div style={sectionStyle}>\n          <strong><span role=\"img\" aria-label=\"Social\"></span> X:</strong>{\" \"}\n          {tweets[0].text ? tweets[0].text.substring(0, 80) + \"\" : \"Tweets attached\"}\n        </div>\n      )}\n\n      {/* Attachments (e.g. drawing images) */}\n      {hasAttachments && (\n        <div style={{ ...sectionStyle, display: \"flex\", flexWrap: \"wrap\", gap: \"8px\" }}>\n          <strong><span role=\"img\" aria-label=\"Attachments\"></span> Attachments:</strong>\n          {props.attachments.map((att, i) => (\n            att.type === \"image\" && att.url ? (\n              <img key={i} src={att.url} alt=\"\" style={{ maxWidth: \"120px\", maxHeight: \"80px\", objectFit: \"cover\", borderRadius: \"4px\" }} />\n            ) : (\n              <span key={i}>{att.type}</span>\n            )\n          ))}\n        </div>\n      )}\n\n      {/* Drawings */}\n      {hasDrawings && (\n        <div style={sectionStyle}>\n          <span role=\"img\" aria-label=\"Drawing\"></span> Drawing attached\n        </div>\n      )}\n\n      {/* Integration action buttons */}\n      {hasIntegrationActions && (\n        <div style={{ ...sectionStyle, display: \"flex\", flexWrap: \"wrap\", gap: \"6px\", alignItems: \"center\" }}>\n          <strong>Integrations:</strong>\n          {props.onFetchNews && (\n            <button\n              type=\"button\"\n              disabled={integrationLoading === \"news\"}\n              onClick={() => handleIntegrationAction(\"news\", props.onFetchNews)}\n              style={{ padding: \"4px 8px\", fontSize: \"11px\", cursor: integrationLoading === \"news\" ? \"wait\" : \"pointer\" }}\n            >\n              {integrationLoading === \"news\" ? \"\" : \"Fetch news\"}\n            </button>\n          )}\n          {props.onFetchTweets && (\n            <button\n              type=\"button\"\n              disabled={integrationLoading === \"tweets\"}\n              onClick={() => handleIntegrationAction(\"tweets\", props.onFetchTweets)}\n              style={{ padding: \"4px 8px\", fontSize: \"11px\", cursor: integrationLoading === \"tweets\" ? \"wait\" : \"pointer\" }}\n            >\n              {integrationLoading === \"tweets\" ? \"\" : \"Fetch tweets\"}\n            </button>\n          )}\n          {props.onUpdateFinancial && (\n            <button\n              type=\"button\"\n              disabled={integrationLoading === \"financial\"}\n              onClick={() => handleIntegrationAction(\"financial\", props.onUpdateFinancial)}\n              style={{ padding: \"4px 8px\", fontSize: \"11px\", cursor: integrationLoading === \"financial\" ? \"wait\" : \"pointer\" }}\n            >\n              {integrationLoading === \"financial\" ? \"\" : \"Update financial\"}\n            </button>\n          )}\n          {props.onUpdateAll && (\n            <button\n              type=\"button\"\n              disabled={integrationLoading === \"all\"}\n              onClick={() => handleIntegrationAction(\"all\", props.onUpdateAll)}\n              style={{ padding: \"4px 8px\", fontSize: \"11px\", cursor: integrationLoading === \"all\" ? \"wait\" : \"pointer\" }}\n            >\n              {integrationLoading === \"all\" ? \"\" : \"Update all\"}\n            </button>\n          )}\n        </div>\n      )}\n\n      <div className=\"note-actions\" style={{ marginTop: \"10px\", display: \"flex\", gap: \"5px\", flexWrap: \"wrap\" }}>\n        {props.onOpenEnhancedEdit && (\n          <button onClick={props.onOpenEnhancedEdit} style={{ ...buttonStyle, color: \"#9C27B0\" }}>\n            EDIT (ENHANCED)\n          </button>\n        )}\n        <button onClick={handleEdit} style={{ ...buttonStyle, color: \"#2196F3\" }}>\n          EDIT\n        </button>\n        <button onClick={handlePin} style={{ ...buttonStyle, color: props.isPinned ? \"#f5ba13\" : \"#999\" }}>\n          <span role=\"img\" aria-label={props.isPinned ? \"Unpin\" : \"Pin\"}>{props.isPinned ? \"\" : \"\"}</span>\n        </button>\n        <button onClick={handleArchive} style={{ ...buttonStyle, color: props.isArchived ? \"#ff9800\" : \"#999\" }}>\n          <span role=\"img\" aria-label={props.isArchived ? \"Unarchive\" : \"Archive\"}>{props.isArchived ? \"\" : \"\"}</span>\n        </button>\n        <button onClick={handleTrash} style={{ ...buttonStyle, color: \"#999\" }}>\n          <span role=\"img\" aria-label=\"Move to trash\"></span>\n        </button>\n        <button onClick={handleDelete} style={{ ...buttonStyle, color: \"#f44336\" }}>\n          DELETE\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Note;\n","import React, { useState } from \"react\";\n\nconst buttonStyle = {\n  position: \"absolute\",\n  right: \"18px\",\n  bottom: \"-18px\",\n  background: \"#f5ba13\",\n  color: \"#fff\",\n  border: \"none\",\n  borderRadius: \"50%\",\n  width: \"36px\",\n  height: \"36px\",\n  boxShadow: \"0 1px 3px rgba(0, 0, 0, 0.3)\",\n  cursor: \"pointer\",\n  outline: \"none\"\n};\n\nconst noteStyle = {\n  width: \"100%\",\n  border: \"none\",\n  padding: \"4px\",\n  outline: \"none\",\n  fontSize: \"1.2em\",\n  fontFamily: \"inherit\",\n  resize: \"none\"\n};\n\nconst noteFormat = {\n  position: \"relative\",\n  width: \"480px\",\n  margin: \"30px auto 20px auto\",\n  background: \"#fff\",\n  padding: \"15px\",\n  borderRadius: \"7px\",\n  boxShadow: \"0 1px 5px rgb(138, 137, 137)\"\n};\n\nconst emptyIntegrations = () => ({\n  deadline: null,\n  news: { enabled: false, keywords: [] },\n  financial: { enabled: false, type: \"crypto\", symbols: [] },\n  social: { x: { enabled: false, keywords: [] } }\n});\n\nfunction CreateArea(props) {\n  const [note, setNote] = useState({\n    title: \"\",\n    content: \"\",\n    tags: [],\n    priority: \"medium\"\n  });\n  const [tagInput, setTagInput] = useState(\"\");\n  const [showIntegrations, setShowIntegrations] = useState(false);\n  const [integrations, setIntegrations] = useState(emptyIntegrations());\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n\n    setNote((prevNote) => {\n      return {\n        ...prevNote,\n        [name]: value\n      };\n    });\n  }\n\n  function handleTagInputKeyDown(event) {\n    if (event.key === \"Enter\" && tagInput.trim()) {\n      event.preventDefault();\n      const newTag = tagInput.trim();\n      if (!note.tags.includes(newTag)) {\n        setNote((prevNote) => ({\n          ...prevNote,\n          tags: [...prevNote.tags, newTag]\n        }));\n      }\n      setTagInput(\"\");\n    } else if (event.key === \"Backspace\" && !tagInput && note.tags.length > 0) {\n      setNote((prevNote) => ({\n        ...prevNote,\n        tags: prevNote.tags.slice(0, -1)\n      }));\n    }\n  }\n\n  function removeTag(tagToRemove) {\n    setNote((prevNote) => ({\n      ...prevNote,\n      tags: prevNote.tags.filter(tag => tag !== tagToRemove)\n    }));\n  }\n\n  function submitNote(event) {\n    event.preventDefault();\n    const payload = { ...note };\n    if (showIntegrations) {\n      if (integrations.deadline) {\n        payload.deadline = {\n          date: new Date(integrations.deadline).toISOString(),\n          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n          status: \"pending\",\n          reminder: { enabled: true, intervals: [1440, 60] }\n        };\n      }\n      if (integrations.news.enabled && integrations.news.keywords.length) {\n        payload.news = {\n          enabled: true,\n          keywords: integrations.news.keywords\n        };\n      }\n      if (integrations.financial.enabled && integrations.financial.symbols.length) {\n        payload.financial = {\n          enabled: true,\n          type: integrations.financial.type,\n          symbols: integrations.financial.symbols\n        };\n      }\n      if (integrations.social.x.enabled && integrations.social.x.keywords.length) {\n        payload.social = {\n          x: {\n            enabled: true,\n            keywords: integrations.social.x.keywords\n          }\n        };\n      }\n    }\n    props.onAdd(payload);\n    setNote({ title: \"\", content: \"\", tags: [], priority: \"medium\" });\n    setTagInput(\"\");\n    setIntegrations(emptyIntegrations());\n  }\n\n  return (\n    <div>\n      <form style={noteFormat} onSubmit={submitNote}>\n        <input\n          name=\"title\"\n          onChange={handleChange}\n          style={noteStyle}\n          value={note.title}\n          placeholder=\"Title\"\n        />\n        <textarea\n          name=\"content\"\n          onChange={handleChange}\n          style={noteStyle}\n          value={note.content}\n          placeholder=\"Take a note...\"\n          rows=\"3\"\n        />\n        \n        {/* Tags Input */}\n        <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\n          {note.tags.map((tag, index) => (\n            <span\n              key={index}\n              style={{\n                display: \"inline-block\",\n                background: \"#f5ba13\",\n                color: \"white\",\n                padding: \"4px 8px\",\n                borderRadius: \"12px\",\n                fontSize: \"12px\",\n                margin: \"2px 4px 2px 0\",\n                cursor: \"pointer\"\n              }}\n              onClick={() => removeTag(tag)}\n            >\n              {tag} \n            </span>\n          ))}\n          <input\n            type=\"text\"\n            value={tagInput}\n            onChange={(e) => setTagInput(e.target.value)}\n            onKeyDown={handleTagInputKeyDown}\n            placeholder=\"Add tags (press Enter)\"\n            style={{\n              border: \"none\",\n              outline: \"none\",\n              fontSize: \"12px\",\n              padding: \"4px\",\n              width: \"150px\"\n            }}\n          />\n        </div>\n\n        {/* Priority Selector */}\n        <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\n          <label style={{ fontSize: \"12px\", marginRight: \"8px\" }}>Priority: </label>\n          <select\n            name=\"priority\"\n            value={note.priority}\n            onChange={handleChange}\n            style={{\n              padding: \"4px 8px\",\n              fontSize: \"12px\",\n              border: \"1px solid #ddd\",\n              borderRadius: \"4px\"\n            }}\n          >\n            <option value=\"low\">Low</option>\n            <option value=\"medium\">Medium</option>\n            <option value=\"high\">High</option>\n            <option value=\"urgent\">Urgent</option>\n          </select>\n        </div>\n\n        {/* Integrations (optional) */}\n        <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\n          <button\n            type=\"button\"\n            onClick={() => setShowIntegrations(!showIntegrations)}\n            style={{\n              fontSize: \"12px\",\n              padding: \"6px 10px\",\n              background: showIntegrations ? \"#e6b800\" : \"#f0f0f0\",\n              border: \"1px solid #ddd\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            {showIntegrations ? \"\" : \"\"} Integrations (deadline, news, financial, social)\n          </button>\n          {showIntegrations && (\n            <div style={{ marginTop: \"10px\", padding: \"10px\", background: \"#f9f9f9\", borderRadius: \"4px\", fontSize: \"12px\" }}>\n              {/* Deadline */}\n              <div style={{ marginBottom: \"10px\" }}>\n                <label style={{ display: \"block\", marginBottom: \"4px\" }}><span role=\"img\" aria-label=\"calendar\"></span> Deadline (optional)</label>\n                <input\n                  type=\"datetime-local\"\n                  value={integrations.deadline || \"\"}\n                  onChange={(e) => setIntegrations(prev => ({ ...prev, deadline: e.target.value || null }))}\n                  style={{ padding: \"4px 8px\", width: \"100%\", maxWidth: \"280px\", border: \"1px solid #ddd\", borderRadius: \"4px\" }}\n                />\n              </div>\n              {/* News */}\n              <div style={{ marginBottom: \"10px\" }}>\n                <label style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"4px\" }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={integrations.news.enabled}\n                    onChange={(e) => setIntegrations(prev => ({\n                      ...prev,\n                      news: { ...prev.news, enabled: e.target.checked }\n                    }))}\n                    style={{ marginRight: \"6px\" }}\n                  />\n                   News (keywords)\n                </label>\n                {integrations.news.enabled && (\n                  <input\n                    type=\"text\"\n                    placeholder=\"e.g. technology, AI, crypto\"\n                    value={integrations.news.keywords.join(\", \")}\n                    onChange={(e) => setIntegrations(prev => ({\n                      ...prev,\n                      news: { ...prev.news, keywords: e.target.value.split(\",\").map(k => k.trim()).filter(Boolean) }\n                    }))}\n                    style={{ padding: \"4px 8px\", width: \"100%\", maxWidth: \"280px\", marginTop: \"4px\", border: \"1px solid #ddd\", borderRadius: \"4px\" }}\n                  />\n                )}\n              </div>\n              {/* Financial */}\n              <div style={{ marginBottom: \"10px\" }}>\n                <label style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"4px\" }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={integrations.financial.enabled}\n                    onChange={(e) => setIntegrations(prev => ({\n                      ...prev,\n                      financial: { ...prev.financial, enabled: e.target.checked }\n                    }))}\n                    style={{ marginRight: \"6px\" }}\n                  />\n                   Financial\n                </label>\n                {integrations.financial.enabled && (\n                  <div style={{ marginTop: \"4px\" }}>\n                    <select\n                      value={integrations.financial.type}\n                      onChange={(e) => setIntegrations(prev => ({\n                        ...prev,\n                        financial: { ...prev.financial, type: e.target.value }\n                      }))}\n                      style={{ padding: \"4px 8px\", marginRight: \"8px\", border: \"1px solid #ddd\", borderRadius: \"4px\" }}\n                    >\n                      <option value=\"crypto\">Crypto</option>\n                      <option value=\"stock\">Stocks</option>\n                    </select>\n                    <input\n                      type=\"text\"\n                      placeholder={integrations.financial.type === \"crypto\" ? \"e.g. BTC, ETH\" : \"e.g. AAPL, TSLA\"}\n                      value={integrations.financial.symbols.join(\", \")}\n                      onChange={(e) => setIntegrations(prev => ({\n                        ...prev,\n                        financial: { ...prev.financial, symbols: e.target.value.split(\",\").map(s => s.trim().toUpperCase()).filter(Boolean) }\n                      }))}\n                      style={{ padding: \"4px 8px\", width: \"100%\", maxWidth: \"200px\", border: \"1px solid #ddd\", borderRadius: \"4px\" }}\n                    />\n                  </div>\n                )}\n              </div>\n              {/* Social (X/Twitter) */}\n              <div style={{ marginBottom: \"4px\" }}>\n                <label style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"4px\" }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={integrations.social.x.enabled}\n                    onChange={(e) => setIntegrations(prev => ({\n                      ...prev,\n                      social: { ...prev.social, x: { ...prev.social.x, enabled: e.target.checked } }\n                    }))}\n                    style={{ marginRight: \"6px\" }}\n                  />\n                   X / Social keywords\n                </label>\n                {integrations.social.x.enabled && (\n                  <input\n                    type=\"text\"\n                    placeholder=\"e.g. crypto, tech\"\n                    value={integrations.social.x.keywords.join(\", \")}\n                    onChange={(e) => setIntegrations(prev => ({\n                      ...prev,\n                      social: { x: { ...prev.social.x, keywords: e.target.value.split(\",\").map(k => k.trim()).filter(Boolean) } }\n                    }))}\n                    style={{ padding: \"4px 8px\", width: \"100%\", maxWidth: \"280px\", marginTop: \"4px\", border: \"1px solid #ddd\", borderRadius: \"4px\" }}\n                  />\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        <button type=\"submit\" style={buttonStyle}>\n          Add\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default CreateArea;\n","import React, { useState, useEffect } from \"react\";\nimport Note from \"./Note\";\nimport { API_BASE } from \"../config\";\n\nconst TrashView = ({ onRestore, onDeletePermanent }) => {\n  const [trashedNotes, setTrashedNotes] = useState([]);\n\n  useEffect(() => {\n    fetchTrashedNotes();\n  }, []);\n\n  async function fetchTrashedNotes() {\n    try {\n      const response = await fetch(`${API_BASE}/api/notes/trash`);\n      if (response.ok) {\n        const notes = await response.json();\n        setTrashedNotes(notes);\n      }\n    } catch (error) {\n      console.error(\"Error fetching trashed notes\", error);\n    }\n  }\n\n  async function handleRestore(id) {\n    try {\n      const response = await fetch(`${API_BASE}/api/notes/${id}/trash`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ isDeleted: false }),\n      });\n\n      if (response.ok) {\n        fetchTrashedNotes();\n        if (onRestore) onRestore();\n      }\n    } catch (error) {\n      console.error(\"Error restoring note\", error);\n    }\n  }\n\n  async function handleDeletePermanent(id) {\n    if (window.confirm(\"Are you sure you want to permanently delete this note? This action cannot be undone.\")) {\n      try {\n        const response = await fetch(`${API_BASE}/api/notes/DeleteNote/${id}`, {\n          method: \"DELETE\",\n        });\n\n        if (response.ok) {\n          fetchTrashedNotes();\n          if (onDeletePermanent) onDeletePermanent();\n        }\n      } catch (error) {\n        console.error(\"Error deleting note permanently\", error);\n      }\n    }\n  }\n\n  async function handleEmptyTrash() {\n    if (window.confirm(`Are you sure you want to permanently delete all ${trashedNotes.length} notes? This action cannot be undone.`)) {\n      try {\n        await Promise.all(\n          trashedNotes.map(note =>\n            fetch(`${API_BASE}/api/notes/DeleteNote/${note._id}`, {\n              method: \"DELETE\",\n            })\n          )\n        );\n        fetchTrashedNotes();\n      } catch (error) {\n        console.error(\"Error emptying trash\", error);\n      }\n    }\n  }\n\n  return (\n    <div style={{ padding: \"20px\" }}>\n      <div style={{ marginBottom: \"20px\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n        <h2>Trash ({trashedNotes.length})</h2>\n        {trashedNotes.length > 0 && (\n          <button\n            onClick={handleEmptyTrash}\n            style={{\n              padding: \"8px 16px\",\n              background: \"#f44336\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            Empty Trash\n          </button>\n        )}\n      </div>\n\n      {trashedNotes.length === 0 ? (\n        <div style={{ textAlign: \"center\", padding: \"40px\", color: \"#999\" }}>\n          Trash is empty\n        </div>\n      ) : (\n        <div>\n          {trashedNotes.map((note) => (\n            <div key={note._id} style={{ position: \"relative\", display: \"inline-block\", margin: \"16px\" }}>\n              <Note\n                id={note._id}\n                title={note.title}\n                content={note.content}\n                tags={note.tags || []}\n                priority={note.priority}\n                isPinned={false}\n                isArchived={false}\n                onDelete={() => handleDeletePermanent(note._id)}\n                onUpdate={() => {}}\n                onPin={() => {}}\n                onArchive={() => {}}\n                onTrash={() => {}}\n              />\n              <div style={{ marginTop: \"10px\", textAlign: \"center\" }}>\n                <button\n                  onClick={() => handleRestore(note._id)}\n                  style={{\n                    padding: \"6px 12px\",\n                    background: \"#4CAF50\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"4px\",\n                    cursor: \"pointer\",\n                    marginRight: \"5px\"\n                  }}\n                >\n                  Restore\n                </button>\n                <button\n                  onClick={() => handleDeletePermanent(note._id)}\n                  style={{\n                    padding: \"6px 12px\",\n                    background: \"#f44336\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"4px\",\n                    cursor: \"pointer\"\n                  }}\n                >\n                  Delete Forever\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TrashView;\n\n","import React, { useState } from \"react\";\nimport { API_BASE } from \"../config\";\n\nconst ExportImport = ({ notes, onImport }) => {\n  const [importFile, setImportFile] = useState(null);\n  const [exportingFromServer, setExportingFromServer] = useState(false);\n\n  const exportFromServer = async () => {\n    setExportingFromServer(true);\n    try {\n      const res = await fetch(`${API_BASE}/api/notes/export`);\n      if (!res.ok) throw new Error(\"Export failed\");\n      const blob = await res.blob();\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = `notes-export-${new Date().toISOString().split(\"T\")[0]}.json`;\n      a.click();\n      URL.revokeObjectURL(url);\n    } catch (e) {\n      console.error(\"Export from server failed\", e);\n      alert(\"Export from server failed. Check console.\");\n    } finally {\n      setExportingFromServer(false);\n    }\n  };\n\n  const exportToJSON = () => {\n    const dataStr = JSON.stringify(notes, null, 2);\n    const dataBlob = new Blob([dataStr], { type: \"application/json\" });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = `notes-export-${new Date().toISOString().split(\"T\")[0]}.json`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const exportToMarkdown = () => {\n    let markdown = \"# Notes Export\\n\\n\";\n    markdown += `Exported on: ${new Date().toLocaleString()}\\n\\n`;\n    markdown += `Total Notes: ${notes.length}\\n\\n`;\n    markdown += \"---\\n\\n\";\n\n    notes.forEach((note, index) => {\n      markdown += `## ${note.title || `Note ${index + 1}`}\\n\\n`;\n      if (note.tags && note.tags.length > 0) {\n        markdown += `**Tags:** ${note.tags.join(\", \")}\\n\\n`;\n      }\n      if (note.priority) {\n        markdown += `**Priority:** ${note.priority}\\n\\n`;\n      }\n      markdown += `${note.content || \"\"}\\n\\n`;\n      markdown += `*Created: ${new Date(note.createdAt).toLocaleString()}*\\n\\n`;\n      markdown += \"---\\n\\n\";\n    });\n\n    const dataBlob = new Blob([markdown], { type: \"text/markdown\" });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = `notes-export-${new Date().toISOString().split(\"T\")[0]}.md`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    if (file && file.type === \"application/json\") {\n      setImportFile(file);\n    } else {\n      alert(\"Please select a valid JSON file\");\n    }\n  };\n\n  const handleImport = () => {\n    if (!importFile) return;\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const importedNotes = JSON.parse(e.target.result);\n        if (Array.isArray(importedNotes)) {\n          if (onImport) {\n            onImport(importedNotes);\n          }\n          alert(`Successfully imported ${importedNotes.length} notes!`);\n          setImportFile(null);\n        } else {\n          alert(\"Invalid file format. Expected an array of notes.\");\n        }\n      } catch (error) {\n        alert(\"Error parsing JSON file: \" + error.message);\n      }\n    };\n    reader.readAsText(importFile);\n  };\n\n  return (\n    <div\n      style={{\n        width: \"480px\",\n        margin: \"20px auto\",\n        padding: \"20px\",\n        background: \"var(--bg-secondary)\",\n        borderRadius: \"7px\",\n        boxShadow: \"0 1px 5px var(--shadow)\"\n      }}\n    >\n      <h3 style={{ marginBottom: \"15px\", color: \"var(--text-primary)\" }}>Export / Import Notes</h3>\n\n      <div style={{ marginBottom: \"20px\" }}>\n        <h4 style={{ marginBottom: \"10px\", color: \"var(--text-primary)\" }}>Export</h4>\n        <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"10px\" }}>\n          <button\n            onClick={exportToJSON}\n            style={{\n              padding: \"8px 16px\",\n              background: \"#4CAF50\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            Export as JSON (current page)\n          </button>\n          <button\n            onClick={exportToMarkdown}\n            style={{\n              padding: \"8px 16px\",\n              background: \"#2196F3\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            Export as Markdown\n          </button>\n          <button\n            onClick={exportFromServer}\n            disabled={exportingFromServer}\n            style={{\n              padding: \"8px 16px\",\n              background: \"#673AB7\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: exportingFromServer ? \"wait\" : \"pointer\"\n            }}\n          >\n            {exportingFromServer ? \"Exporting\" : \"Export from server (all notes)\"}\n          </button>\n        </div>\n      </div>\n\n      <div>\n        <h4 style={{ marginBottom: \"10px\", color: \"var(--text-primary)\" }}>Import</h4>\n        <input\n          type=\"file\"\n          accept=\".json\"\n          onChange={handleFileSelect}\n          style={{ marginBottom: \"10px\" }}\n        />\n        {importFile && (\n          <div>\n            <p style={{ fontSize: \"12px\", color: \"var(--text-secondary)\", marginBottom: \"10px\" }}>\n              Selected: {importFile.name}\n            </p>\n            <button\n              onClick={handleImport}\n              style={{\n                padding: \"8px 16px\",\n                background: \"#ff9800\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"4px\",\n                cursor: \"pointer\"\n              }}\n            >\n              Import Notes\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ExportImport;\n\n","import React, { useState, useEffect } from \"react\";\nimport { API_BASE } from \"../config\";\n\nconst TemplateSelector = ({ onSelectTemplate }) => {\n  const [templates, setTemplates] = useState([]);\n  const [showSelector, setShowSelector] = useState(false);\n\n  useEffect(() => {\n    fetchTemplates();\n  }, []);\n\n  async function fetchTemplates() {\n    try {\n      const response = await fetch(`${API_BASE}/api/templates`);\n      if (response.ok) {\n        const data = await response.json();\n        setTemplates(data);\n      }\n    } catch (error) {\n      console.error(\"Error fetching templates\", error);\n    }\n  }\n\n  function processTemplate(template) {\n    const now = new Date();\n    const dateStr = now.toLocaleDateString();\n    \n    let title = template.title;\n    let content = template.content;\n    \n    // Replace template variables\n    title = title.replace(/\\{\\{date\\}\\}/g, dateStr);\n    title = title.replace(/\\{\\{topic\\}\\}/g, \"\");\n    title = title.replace(/\\{\\{name\\}\\}/g, \"\");\n    \n    content = content.replace(/\\{\\{date\\}\\}/g, dateStr);\n    content = content.replace(/\\{\\{startDate\\}\\}/g, dateStr);\n    content = content.replace(/\\{\\{deadline\\}\\}/g, \"\");\n    content = content.replace(/\\{\\{name\\}\\}/g, \"\");\n    content = content.replace(/\\{\\{attendees\\}\\}/g, \"\");\n    \n    return {\n      title: title,\n      content: content,\n      tags: template.tags || []\n    };\n  }\n\n  function handleSelectTemplate(template) {\n    const processed = processTemplate(template);\n    if (onSelectTemplate) {\n      onSelectTemplate(processed);\n    }\n    setShowSelector(false);\n  }\n\n  return (\n    <div>\n      <button\n        onClick={() => setShowSelector(!showSelector)}\n        style={{\n          padding: \"8px 16px\",\n          background: \"#2196F3\",\n          color: \"white\",\n          border: \"none\",\n          borderRadius: \"4px\",\n          cursor: \"pointer\",\n          marginBottom: \"10px\"\n        }}\n      >\n        <span role=\"img\" aria-label=\"Template\"></span> Use Template\n      </button>\n\n      {showSelector && (\n        <div\n          style={{\n            position: \"absolute\",\n            background: \"var(--bg-secondary)\",\n            border: \"1px solid var(--border-color)\",\n            borderRadius: \"4px\",\n            padding: \"15px\",\n            boxShadow: \"0 4px 6px var(--shadow)\",\n            zIndex: 1000,\n            minWidth: \"250px\"\n          }}\n        >\n          <h4 style={{ marginBottom: \"10px\", color: \"var(--text-primary)\" }}>Select Template</h4>\n          {templates.map((template) => (\n            <button\n              key={template.id}\n              onClick={() => handleSelectTemplate(template)}\n              style={{\n                display: \"block\",\n                width: \"100%\",\n                padding: \"10px\",\n                marginBottom: \"5px\",\n                background: \"var(--bg-tertiary)\",\n                color: \"var(--text-primary)\",\n                border: \"1px solid var(--border-color)\",\n                borderRadius: \"4px\",\n                cursor: \"pointer\",\n                textAlign: \"left\"\n              }}\n            >\n              {template.name}\n            </button>\n          ))}\n          <button\n            onClick={() => setShowSelector(false)}\n            style={{\n              marginTop: \"10px\",\n              padding: \"6px 12px\",\n              background: \"#999\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            Cancel\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TemplateSelector;\n\n","import React, { createContext, useState, useEffect } from \"react\";\n\nconst ThemeContext = createContext();\n\nexport const ThemeProvider = ({ children }) => {\n  const [theme, setTheme] = useState(() => {\n    const savedTheme = localStorage.getItem(\"theme\");\n    return savedTheme || \"light\";\n  });\n\n  useEffect(() => {\n    localStorage.setItem(\"theme\", theme);\n    document.documentElement.setAttribute(\"data-theme\", theme);\n  }, [theme]);\n\n  const toggleTheme = () => {\n    setTheme((prevTheme) => (prevTheme === \"light\" ? \"dark\" : \"light\"));\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\nexport const useTheme = () => {\n  const context = React.useContext(ThemeContext);\n  if (!context) {\n    throw new Error(\"useTheme must be used within ThemeProvider\");\n  }\n  return context;\n};\n\nexport default ThemeContext;\n\n","import React from \"react\";\nimport { useTheme } from \"../contexts/ThemeContext\";\n\nconst ThemeToggle = () => {\n  const { theme, toggleTheme } = useTheme();\n\n  return (\n    <button\n      onClick={toggleTheme}\n      style={{\n        position: \"fixed\",\n        top: \"20px\",\n        right: \"20px\",\n        padding: \"10px 15px\",\n        background: theme === \"dark\" ? \"#333\" : \"#f5ba13\",\n        color: \"white\",\n        border: \"none\",\n        borderRadius: \"50%\",\n        cursor: \"pointer\",\n        fontSize: \"20px\",\n        boxShadow: \"0 2px 5px rgba(0,0,0,0.3)\",\n        zIndex: 1000\n      }}\n      title={theme === \"dark\" ? \"Switch to Light Mode\" : \"Switch to Dark Mode\"}\n    >\n      {theme === \"dark\" ? \"\" : \"\"}\n    </button>\n  );\n};\n\nexport default ThemeToggle;\n\n","import React, { useState, useEffect } from \"react\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  Cell\n} from \"recharts\";\nimport { API_BASE } from \"../config\";\n\nconst IntegrationDashboard = () => {\n  const [stats, setStats] = useState({\n    totalNotes: 0,\n    pinnedNotes: 0,\n    archivedNotes: 0,\n    trashedNotes: 0,\n    notesByPriority: {\n      urgent: 0,\n      high: 0,\n      medium: 0,\n      low: 0\n    }\n  });\n\n  useEffect(() => {\n    fetchStats();\n  }, []);\n\n  async function fetchStats() {\n    try {\n      const [allNotes, archived, trashed] = await Promise.all([\n        fetch(`${API_BASE}/api/notes/GetNotes`).then(r => r.json()),\n        fetch(`${API_BASE}/api/notes/archived`).then(r => r.json()),\n        fetch(`${API_BASE}/api/notes/trash`).then(r => r.json())\n      ]);\n\n      const pinned = allNotes.filter(n => n.isPinned).length;\n      const byPriority = {\n        urgent: allNotes.filter(n => n.priority === \"urgent\").length,\n        high: allNotes.filter(n => n.priority === \"high\").length,\n        medium: allNotes.filter(n => n.priority === \"medium\").length,\n        low: allNotes.filter(n => n.priority === \"low\").length\n      };\n\n      setStats({\n        totalNotes: allNotes.length,\n        pinnedNotes: pinned,\n        archivedNotes: archived.length,\n        trashedNotes: trashed.length,\n        notesByPriority: byPriority\n      });\n    } catch (error) {\n      console.error(\"Error fetching stats\", error);\n    }\n  }\n\n  return (\n    <div\n      style={{\n        width: \"480px\",\n        margin: \"20px auto\",\n        padding: \"20px\",\n        background: \"var(--bg-secondary)\",\n        borderRadius: \"7px\",\n        boxShadow: \"0 1px 5px var(--shadow)\"\n      }}\n    >\n      <h2 style={{ marginBottom: \"20px\", color: \"var(--text-primary)\" }}>Dashboard</h2>\n\n      <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"15px\", marginBottom: \"20px\" }}>\n        <div\n          style={{\n            padding: \"15px\",\n            background: \"var(--bg-tertiary)\",\n            borderRadius: \"4px\",\n            textAlign: \"center\"\n          }}\n        >\n          <div style={{ fontSize: \"24px\", fontWeight: \"bold\", color: \"#2196F3\" }}>\n            {stats.totalNotes}\n          </div>\n          <div style={{ fontSize: \"12px\", color: \"var(--text-secondary)\" }}>Total Notes</div>\n        </div>\n\n        <div\n          style={{\n            padding: \"15px\",\n            background: \"var(--bg-tertiary)\",\n            borderRadius: \"4px\",\n            textAlign: \"center\"\n          }}\n        >\n          <div style={{ fontSize: \"24px\", fontWeight: \"bold\", color: \"#f5ba13\" }}>\n            {stats.pinnedNotes}\n          </div>\n          <div style={{ fontSize: \"12px\", color: \"var(--text-secondary)\" }}>Pinned</div>\n        </div>\n\n        <div\n          style={{\n            padding: \"15px\",\n            background: \"var(--bg-tertiary)\",\n            borderRadius: \"4px\",\n            textAlign: \"center\"\n          }}\n        >\n          <div style={{ fontSize: \"24px\", fontWeight: \"bold\", color: \"#ff9800\" }}>\n            {stats.archivedNotes}\n          </div>\n          <div style={{ fontSize: \"12px\", color: \"var(--text-secondary)\" }}>Archived</div>\n        </div>\n\n        <div\n          style={{\n            padding: \"15px\",\n            background: \"var(--bg-tertiary)\",\n            borderRadius: \"4px\",\n            textAlign: \"center\"\n          }}\n        >\n          <div style={{ fontSize: \"24px\", fontWeight: \"bold\", color: \"#999\" }}>\n            {stats.trashedNotes}\n          </div>\n          <div style={{ fontSize: \"12px\", color: \"var(--text-secondary)\" }}>Trashed</div>\n        </div>\n      </div>\n\n      <div style={{ marginTop: \"20px\" }}>\n        <h3 style={{ marginBottom: \"10px\", fontSize: \"16px\", color: \"var(--text-primary)\" }}>\n          Notes by Priority\n        </h3>\n        <div style={{ height: \"220px\", width: \"100%\" }}>\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <BarChart\n              data={[\n                { name: \"Urgent\", count: stats.notesByPriority.urgent, fill: \"#ff4444\" },\n                { name: \"High\", count: stats.notesByPriority.high, fill: \"#ff8800\" },\n                { name: \"Medium\", count: stats.notesByPriority.medium, fill: \"#ffbb33\" },\n                { name: \"Low\", count: stats.notesByPriority.low, fill: \"#99cc00\" }\n              ]}\n              margin={{ top: 10, right: 10, left: 0, bottom: 5 }}\n            >\n              <XAxis dataKey=\"name\" tick={{ fontSize: 12, fill: \"var(--text-primary)\" }} />\n              <YAxis tick={{ fontSize: 12, fill: \"var(--text-primary)\" }} allowDecimals={false} />\n              <Tooltip\n                contentStyle={{ background: \"var(--bg-secondary)\", border: \"1px solid var(--border-color)\" }}\n                labelStyle={{ color: \"var(--text-primary)\" }}\n              />\n              <Bar dataKey=\"count\" radius={[4, 4, 0, 0]}>\n                {[\n                  { fill: \"#ff4444\" },\n                  { fill: \"#ff8800\" },\n                  { fill: \"#ffbb33\" },\n                  { fill: \"#99cc00\" }\n                ].map((entry, index) => (\n                  <Cell key={index} fill={entry.fill} />\n                ))}\n              </Bar>\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\", marginTop: \"12px\" }}>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n            <span style={{ color: \"var(--text-primary)\" }}>Urgent</span>\n            <span style={{ color: \"#ff4444\", fontWeight: \"bold\" }}>{stats.notesByPriority.urgent}</span>\n          </div>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n            <span style={{ color: \"var(--text-primary)\" }}>High</span>\n            <span style={{ color: \"#ff8800\", fontWeight: \"bold\" }}>{stats.notesByPriority.high}</span>\n          </div>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n            <span style={{ color: \"var(--text-primary)\" }}>Medium</span>\n            <span style={{ color: \"#ffbb33\", fontWeight: \"bold\" }}>{stats.notesByPriority.medium}</span>\n          </div>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n            <span style={{ color: \"var(--text-primary)\" }}>Low</span>\n            <span style={{ color: \"#99cc00\", fontWeight: \"bold\" }}>{stats.notesByPriority.low}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default IntegrationDashboard;\n\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Fuse from \"fuse.js\";\n\nconst CommandPalette = ({ isOpen, onClose, onCommand }) => {\n  const [query, setQuery] = useState(\"\");\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const inputRef = useRef(null);\n\n  const commands = [\n    { id: \"create-note\", label: \"Create Note\", action: () => onCommand(\"create-note\") },\n    { id: \"search\", label: \"Search Notes\", action: () => onCommand(\"search\") },\n    { id: \"dashboard\", label: \"Open Dashboard\", action: () => onCommand(\"dashboard\") },\n    { id: \"deadlines\", label: \"Open Deadlines\", action: () => onCommand(\"deadlines\") },\n    { id: \"trash\", label: \"Open Trash\", action: () => onCommand(\"trash\") },\n    { id: \"export\", label: \"Export Notes\", action: () => onCommand(\"export\") },\n    { id: \"import\", label: \"Import Notes\", action: () => onCommand(\"import\") },\n    { id: \"dark-mode\", label: \"Toggle Dark Mode\", action: () => onCommand(\"dark-mode\") },\n    { id: \"focus-mode\", label: \"Focus Mode\", action: () => onCommand(\"focus-mode\") }\n  ];\n\n  const fuse = new Fuse(commands, {\n    keys: [\"label\"],\n    threshold: 0.3\n  });\n\n  const filteredCommands = query\n    ? fuse.search(query).map(result => result.item)\n    : commands;\n\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isOpen]);\n\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (!isOpen) return;\n\n      if (e.key === \"Escape\") {\n        onClose();\n      } else if (e.key === \"ArrowDown\") {\n        e.preventDefault();\n        setSelectedIndex(prev => Math.min(prev + 1, filteredCommands.length - 1));\n      } else if (e.key === \"ArrowUp\") {\n        e.preventDefault();\n        setSelectedIndex(prev => Math.max(prev - 1, 0));\n      } else if (e.key === \"Enter\") {\n        e.preventDefault();\n        if (filteredCommands[selectedIndex]) {\n          filteredCommands[selectedIndex].action();\n          onClose();\n        }\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [isOpen, filteredCommands, selectedIndex, onClose]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: \"rgba(0, 0, 0, 0.5)\",\n        zIndex: 10000,\n        display: \"flex\",\n        alignItems: \"flex-start\",\n        justifyContent: \"center\",\n        paddingTop: \"20vh\"\n      }}\n      onClick={onClose}\n    >\n      <div\n        style={{\n          width: \"600px\",\n          background: \"var(--bg-secondary)\",\n          borderRadius: \"8px\",\n          boxShadow: \"0 4px 6px var(--shadow)\",\n          overflow: \"hidden\"\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div style={{ padding: \"12px\", borderBottom: \"1px solid var(--border-color)\" }}>\n          <input\n            ref={inputRef}\n            type=\"text\"\n            placeholder=\"Type a command or search...\"\n            value={query}\n            onChange={(e) => {\n              setQuery(e.target.value);\n              setSelectedIndex(0);\n            }}\n            style={{\n              width: \"100%\",\n              padding: \"8px\",\n              fontSize: \"16px\",\n              border: \"none\",\n              outline: \"none\",\n              background: \"transparent\",\n              color: \"var(--text-primary)\"\n            }}\n          />\n        </div>\n        <div style={{ maxHeight: \"300px\", overflowY: \"auto\" }}>\n          {filteredCommands.length === 0 ? (\n            <div style={{ padding: \"20px\", textAlign: \"center\", color: \"var(--text-secondary)\" }}>\n              No commands found\n            </div>\n          ) : (\n            filteredCommands.map((command, index) => (\n              <div\n                key={command.id}\n                onClick={() => {\n                  command.action();\n                  onClose();\n                }}\n                style={{\n                  padding: \"12px 16px\",\n                  background: index === selectedIndex ? \"var(--bg-tertiary)\" : \"transparent\",\n                  cursor: \"pointer\",\n                  color: \"var(--text-primary)\",\n                  borderLeft: index === selectedIndex ? \"3px solid #f5ba13\" : \"3px solid transparent\"\n                }}\n                onMouseEnter={() => setSelectedIndex(index)}\n              >\n                {command.label}\n              </div>\n            ))\n          )}\n        </div>\n        <div style={{ padding: \"8px\", fontSize: \"12px\", color: \"var(--text-secondary)\", borderTop: \"1px solid var(--border-color)\" }}>\n          <span> Navigate</span>  <span>Enter Select</span>  <span>Esc Close</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CommandPalette;\n\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport Note from \"./Note\";\n\nconst SplitView = ({\n  notes,\n  onNoteSelect,\n  selectedNoteId,\n  onUpdate,\n  onDelete,\n  onPin,\n  onArchive,\n  onTrash,\n  onOpenEnhancedEdit,\n  onFetchNews,\n  onFetchTweets,\n  onUpdateFinancial,\n  onUpdateAll,\n  onIntegrationComplete\n}) => {\n  const [splitRatio, setSplitRatio] = useState(50);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const handleMouseDown = () => {\n    setIsDragging(true);\n  };\n\n  const handleMouseUp = useCallback(() => {\n    setIsDragging(false);\n  }, []);\n\n  useEffect(() => {\n    if (isDragging) {\n      const handleDocumentMouseMove = (e) => {\n        const container = document.querySelector('.split-container');\n        if (!container) return;\n        const rect = container.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const percentage = (x / rect.width) * 100;\n        setSplitRatio(Math.max(20, Math.min(80, percentage)));\n      };\n\n      document.addEventListener(\"mousemove\", handleDocumentMouseMove);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n      return () => {\n        document.removeEventListener(\"mousemove\", handleDocumentMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n      };\n    }\n  }, [isDragging, handleMouseUp]);\n\n  const selectedNote = notes.find(n => n._id === selectedNoteId);\n\n  return (\n    <div\n      className=\"split-container\"\n      style={{\n        display: \"flex\",\n        height: \"calc(100vh - 200px)\",\n        border: \"1px solid var(--border-color)\",\n        borderRadius: \"4px\"\n      }}\n    >\n      {/* Left Panel - Note List */}\n      <div\n        style={{\n          width: `${splitRatio}%`,\n          overflowY: \"auto\",\n          borderRight: \"1px solid var(--border-color)\",\n          padding: \"10px\"\n        }}\n      >\n        {notes.map((note) => (\n          <div\n            key={note._id}\n            onClick={() => onNoteSelect(note._id)}\n            style={{\n              padding: \"10px\",\n              marginBottom: \"5px\",\n              background: selectedNoteId === note._id ? \"var(--bg-tertiary)\" : \"var(--bg-secondary)\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\",\n              border: selectedNoteId === note._id ? \"2px solid #f5ba13\" : \"1px solid transparent\"\n            }}\n          >\n            <h3 style={{ margin: 0, fontSize: \"14px\", color: \"var(--text-primary)\" }}>\n              {note.title || \"Untitled\"}\n            </h3>\n            <p style={{ margin: \"5px 0 0 0\", fontSize: \"12px\", color: \"var(--text-secondary)\" }}>\n              {note.content?.substring(0, 100)}...\n            </p>\n          </div>\n        ))}\n      </div>\n\n      {/* Resizer */}\n      <div\n        onMouseDown={handleMouseDown}\n        style={{\n          width: \"4px\",\n          background: isDragging ? \"#f5ba13\" : \"var(--border-color)\",\n          cursor: \"col-resize\",\n          userSelect: \"none\"\n        }}\n      />\n\n      {/* Right Panel - Selected Note */}\n      <div\n        style={{\n          width: `${100 - splitRatio}%`,\n          overflowY: \"auto\",\n          padding: \"20px\"\n        }}\n      >\n        {selectedNote ? (\n          <Note\n            id={selectedNote._id}\n            title={selectedNote.title}\n            content={selectedNote.content}\n            tags={selectedNote.tags || []}\n            priority={selectedNote.priority}\n            isPinned={selectedNote.isPinned}\n            isArchived={selectedNote.isArchived}\n            deadline={selectedNote.deadline}\n            news={selectedNote.news}\n            financial={selectedNote.financial}\n            social={selectedNote.social}\n            attachments={selectedNote.attachments}\n            drawings={selectedNote.drawings}\n            onDelete={() => onDelete(selectedNote._id)}\n            onUpdate={onUpdate}\n            onPin={onPin}\n            onArchive={onArchive}\n            onTrash={onTrash}\n            onOpenEnhancedEdit={onOpenEnhancedEdit ? () => onOpenEnhancedEdit(selectedNote._id) : undefined}\n            onFetchNews={onFetchNews}\n            onFetchTweets={onFetchTweets}\n            onUpdateFinancial={onUpdateFinancial}\n            onUpdateAll={onUpdateAll}\n            onIntegrationComplete={onIntegrationComplete}\n          />\n        ) : (\n          <div style={{ textAlign: \"center\", padding: \"40px\", color: \"var(--text-secondary)\" }}>\n            Select a note to view details\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SplitView;\n\n","import React, { useState, useRef, useEffect } from \"react\";\n\nconst VoiceRecorder = ({ onTranscript }) => {\n  const [isRecording, setIsRecording] = useState(false);\n  const [transcript, setTranscript] = useState(\"\");\n  const [audioBlob, setAudioBlob] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n\n  // Check if browser supports speech recognition\n  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n  const recognitionRef = useRef(null);\n\n  useEffect(() => {\n    if (SpeechRecognition) {\n      const recognition = new SpeechRecognition();\n      recognition.continuous = true;\n      recognition.interimResults = true;\n      recognition.lang = \"en-US\";\n\n      recognition.onresult = (event) => {\n        let interimTranscript = \"\";\n        let finalTranscript = \"\";\n\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          const transcript = event.results[i][0].transcript;\n          if (event.results[i].isFinal) {\n            finalTranscript += transcript + \" \";\n          } else {\n            interimTranscript += transcript;\n          }\n        }\n\n        setTranscript(finalTranscript || interimTranscript);\n      };\n\n      recognition.onerror = (event) => {\n        console.error(\"Speech recognition error:\", event.error);\n      };\n\n      recognitionRef.current = recognition;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = () => {\n        const audioBlob = new Blob(audioChunksRef.current, { type: \"audio/wav\" });\n        setAudioBlob(audioBlob);\n        stream.getTracks().forEach(track => track.stop());\n      };\n\n      mediaRecorder.start();\n      setIsRecording(true);\n\n      // Start speech recognition if available\n      if (recognitionRef.current) {\n        recognitionRef.current.start();\n      }\n    } catch (error) {\n      console.error(\"Error starting recording:\", error);\n      alert(\"Microphone access denied. Please enable microphone permissions.\");\n    }\n  };\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n    }\n\n    if (recognitionRef.current) {\n      recognitionRef.current.stop();\n    }\n  };\n\n  const handleSave = () => {\n    if (transcript && onTranscript) {\n      onTranscript(transcript);\n      setTranscript(\"\");\n      setAudioBlob(null);\n    }\n  };\n\n  const playAudio = () => {\n    if (audioBlob) {\n      const audioUrl = URL.createObjectURL(audioBlob);\n      const audio = new Audio(audioUrl);\n      audio.play();\n    }\n  };\n\n  return (\n    <div style={{ padding: \"20px\", background: \"var(--bg-secondary)\", borderRadius: \"4px\" }}>\n      <h3 style={{ marginBottom: \"15px\", color: \"var(--text-primary)\" }}>Voice Recorder</h3>\n      \n      {!SpeechRecognition && (\n        <div style={{ padding: \"10px\", background: \"#ffeb3b\", borderRadius: \"4px\", marginBottom: \"10px\", fontSize: \"12px\" }}>\n          Speech recognition not supported in this browser. Audio recording only.\n        </div>\n      )}\n\n      <div style={{ marginBottom: \"15px\" }}>\n        <button\n          onClick={isRecording ? stopRecording : startRecording}\n          style={{\n            padding: \"10px 20px\",\n            background: isRecording ? \"#f44336\" : \"#4CAF50\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\",\n            fontSize: \"16px\",\n            marginRight: \"10px\"\n          }}\n        >\n          {isRecording ? \" Stop\" : \" Start Recording\"}\n        </button>\n\n        {audioBlob && (\n          <button\n            onClick={playAudio}\n            style={{\n              padding: \"10px 20px\",\n              background: \"#2196F3\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n             Play\n          </button>\n        )}\n      </div>\n\n      {transcript && (\n        <div style={{ marginBottom: \"15px\" }}>\n          <textarea\n            value={transcript}\n            onChange={(e) => setTranscript(e.target.value)}\n            placeholder=\"Transcript will appear here...\"\n            style={{\n              width: \"100%\",\n              minHeight: \"100px\",\n              padding: \"10px\",\n              border: \"1px solid var(--border-color)\",\n              borderRadius: \"4px\",\n              background: \"var(--bg-tertiary)\",\n              color: \"var(--text-primary)\"\n            }}\n          />\n        </div>\n      )}\n\n      {transcript && (\n        <button\n          onClick={handleSave}\n          style={{\n            padding: \"8px 16px\",\n            background: \"#f5ba13\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          }}\n        >\n          Save as Note Content\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default VoiceRecorder;\n\n","import React, { useRef, useEffect, useState } from \"react\";\n\nconst DrawingCanvas = ({ onSave, initialDrawing = null }) => {\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [color, setColor] = useState(\"#000000\");\n  const [brushSize, setBrushSize] = useState(5);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext(\"2d\");\n    canvas.width = 800;\n    canvas.height = 600;\n\n    // Load initial drawing if provided\n    if (initialDrawing) {\n      const img = new Image();\n      img.onload = () => {\n        ctx.drawImage(img, 0, 0);\n      };\n      img.src = initialDrawing;\n    } else {\n      ctx.fillStyle = \"#ffffff\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n  }, [initialDrawing]);\n\n  const startDrawing = (e) => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    setIsDrawing(true);\n  };\n\n  const draw = (e) => {\n    if (!isDrawing) return;\n\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    ctx.lineWidth = brushSize;\n    ctx.lineCap = \"round\";\n    ctx.strokeStyle = color;\n\n    ctx.lineTo(x, y);\n    ctx.stroke();\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n  };\n\n  const stopDrawing = () => {\n    if (isDrawing) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext(\"2d\");\n      ctx.beginPath();\n      setIsDrawing(false);\n    }\n  };\n\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.fillStyle = \"#ffffff\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n  };\n\n  const saveDrawing = () => {\n    const canvas = canvasRef.current;\n    const dataURL = canvas.toDataURL(\"image/png\");\n    if (onSave) {\n      onSave(dataURL);\n    }\n  };\n\n  const colors = [\"#000000\", \"#ff0000\", \"#00ff00\", \"#0000ff\", \"#ffff00\", \"#ff00ff\", \"#00ffff\"];\n\n  return (\n    <div style={{ padding: \"20px\", background: \"var(--bg-secondary)\", borderRadius: \"4px\" }}>\n      <div style={{ marginBottom: \"15px\", display: \"flex\", gap: \"10px\", alignItems: \"center\", flexWrap: \"wrap\" }}>\n        <div>\n          <label style={{ color: \"var(--text-primary)\", marginRight: \"5px\" }}>Color:</label>\n          {colors.map(c => (\n            <button\n              key={c}\n              onClick={() => setColor(c)}\n              style={{\n                width: \"30px\",\n                height: \"30px\",\n                background: c,\n                border: color === c ? \"3px solid #f5ba13\" : \"1px solid #ddd\",\n                borderRadius: \"4px\",\n                cursor: \"pointer\",\n                marginRight: \"5px\"\n              }}\n            />\n          ))}\n          <input\n            type=\"color\"\n            value={color}\n            onChange={(e) => setColor(e.target.value)}\n            style={{ width: \"40px\", height: \"30px\", cursor: \"pointer\" }}\n          />\n        </div>\n\n        <div>\n          <label style={{ color: \"var(--text-primary)\", marginRight: \"5px\" }}>Size:</label>\n          <input\n            type=\"range\"\n            min=\"1\"\n            max=\"20\"\n            value={brushSize}\n            onChange={(e) => setBrushSize(parseInt(e.target.value))}\n            style={{ width: \"100px\" }}\n          />\n          <span style={{ color: \"var(--text-primary)\", marginLeft: \"5px\" }}>{brushSize}px</span>\n        </div>\n\n        <button\n          onClick={clearCanvas}\n          style={{\n            padding: \"6px 12px\",\n            background: \"#999\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          }}\n        >\n          Clear\n        </button>\n\n        <button\n          onClick={saveDrawing}\n          style={{\n            padding: \"6px 12px\",\n            background: \"#4CAF50\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          }}\n        >\n          Save Drawing\n        </button>\n      </div>\n\n      <canvas\n        ref={canvasRef}\n        onMouseDown={startDrawing}\n        onMouseMove={draw}\n        onMouseUp={stopDrawing}\n        onMouseLeave={stopDrawing}\n        style={{\n          border: \"2px solid var(--border-color)\",\n          borderRadius: \"4px\",\n          cursor: \"crosshair\",\n          background: \"#ffffff\",\n          display: \"block\",\n          maxWidth: \"100%\"\n        }}\n      />\n    </div>\n  );\n};\n\nexport default DrawingCanvas;\n\n","import React, { useEffect } from \"react\";\n\nconst FocusMode = ({ children, onExit }) => {\n  useEffect(() => {\n    const handleFullscreenChange = () => {\n      // Track fullscreen state if needed in the future\n    };\n\n    document.addEventListener(\"fullscreenchange\", handleFullscreenChange);\n    return () => document.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\n  }, []);\n\n  const exitFocusMode = async () => {\n    try {\n      if (document.fullscreenElement) {\n        await document.exitFullscreen();\n      }\n      if (onExit) onExit();\n    } catch (error) {\n      console.error(\"Error exiting fullscreen:\", error);\n    }\n  };\n\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: \"var(--bg-primary)\",\n        zIndex: 9999,\n        display: \"flex\",\n        flexDirection: \"column\"\n      }}\n    >\n      <div\n        style={{\n          padding: \"10px\",\n          background: \"var(--bg-secondary)\",\n          borderBottom: \"1px solid var(--border-color)\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        }}\n      >\n        <span style={{ color: \"var(--text-primary)\", fontSize: \"14px\" }}>Focus Mode</span>\n        <button\n          onClick={exitFocusMode}\n          style={{\n            padding: \"6px 12px\",\n            background: \"#f44336\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          }}\n        >\n          Exit Focus Mode\n        </button>\n      </div>\n      <div style={{ flex: 1, overflow: \"auto\", padding: \"20px\" }}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default FocusMode;\n\n","import React, { useState } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\n// Note: If react-datepicker CSS doesn't load, you may need to import it in index.js or App.jsx\n\nconst EnhancedNoteForm = ({ note = null, onSave, onCancel }) => {\n  const [formData, setFormData] = useState({\n    title: note?.title || \"\",\n    content: note?.content || \"\",\n    tags: note?.tags || [],\n    priority: note?.priority || \"medium\",\n    deadline: note?.deadline || null,\n    news: {\n      enabled: note?.news?.enabled || false,\n      keywords: note?.news?.keywords || []\n    },\n    financial: {\n      enabled: note?.financial?.enabled || false,\n      type: note?.financial?.type || \"stock\",\n      symbols: note?.financial?.symbols || []\n    },\n    social: {\n      x: {\n        enabled: note?.social?.x?.enabled || false,\n        keywords: note?.social?.x?.keywords || []\n      }\n    }\n  });\n\n  const [activeTab, setActiveTab] = useState(\"basic\");\n  const [tagInput, setTagInput] = useState(\"\");\n  const [deadlineDate, setDeadlineDate] = useState(\n    note?.deadline?.date ? new Date(note.deadline.date) : null\n  );\n\n  const handleChange = (field, value) => {\n    if (field.includes(\".\")) {\n      const [parent, child] = field.split(\".\");\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setFormData(prev => ({ ...prev, [field]: value }));\n    }\n  };\n\n  const handleTagAdd = () => {\n    if (tagInput.trim() && !formData.tags.includes(tagInput.trim())) {\n      setFormData(prev => ({\n        ...prev,\n        tags: [...prev.tags, tagInput.trim()]\n      }));\n      setTagInput(\"\");\n    }\n  };\n\n  const handleSubmit = () => {\n    const submitData = {\n      ...formData,\n      deadline: deadlineDate ? {\n        date: deadlineDate.toISOString(),\n        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n        status: \"pending\",\n        reminder: {\n          enabled: true,\n          intervals: [1440, 60] // 1 day, 1 hour before\n        }\n      } : null\n    };\n    onSave(submitData);\n  };\n\n  return (\n    <div style={{\n      width: \"600px\",\n      margin: \"20px auto\",\n      background: \"var(--bg-secondary)\",\n      borderRadius: \"8px\",\n      boxShadow: \"0 2px 8px var(--shadow)\"\n    }}>\n      {/* Tabs */}\n      <div style={{ display: \"flex\", borderBottom: \"1px solid var(--border-color)\" }}>\n        {[\"basic\", \"deadline\", \"news\", \"financial\", \"social\"].map(tab => (\n          <button\n            key={tab}\n            onClick={() => setActiveTab(tab)}\n            style={{\n              padding: \"12px 20px\",\n              background: activeTab === tab ? \"var(--bg-tertiary)\" : \"transparent\",\n              border: \"none\",\n              borderBottom: activeTab === tab ? \"2px solid #f5ba13\" : \"2px solid transparent\",\n              cursor: \"pointer\",\n              color: \"var(--text-primary)\",\n              textTransform: \"capitalize\"\n            }}\n          >\n            {tab}\n          </button>\n        ))}\n      </div>\n\n      {/* Tab Content */}\n      <div style={{ padding: \"20px\" }}>\n        {activeTab === \"basic\" && (\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Title\"\n              value={formData.title}\n              onChange={(e) => handleChange(\"title\", e.target.value)}\n              style={{\n                width: \"100%\",\n                padding: \"10px\",\n                marginBottom: \"10px\",\n                border: \"1px solid var(--border-color)\",\n                borderRadius: \"4px\",\n                background: \"var(--bg-tertiary)\",\n                color: \"var(--text-primary)\"\n              }}\n            />\n            <textarea\n              placeholder=\"Content\"\n              value={formData.content}\n              onChange={(e) => handleChange(\"content\", e.target.value)}\n              rows=\"10\"\n              style={{\n                width: \"100%\",\n                padding: \"10px\",\n                marginBottom: \"10px\",\n                border: \"1px solid var(--border-color)\",\n                borderRadius: \"4px\",\n                background: \"var(--bg-tertiary)\",\n                color: \"var(--text-primary)\"\n              }}\n            />\n            <div style={{ marginBottom: \"10px\" }}>\n              <input\n                type=\"text\"\n                placeholder=\"Add tag\"\n                value={tagInput}\n                onChange={(e) => setTagInput(e.target.value)}\n                onKeyPress={(e) => e.key === \"Enter\" && handleTagAdd()}\n                style={{\n                  padding: \"8px\",\n                  border: \"1px solid var(--border-color)\",\n                  borderRadius: \"4px\",\n                  background: \"var(--bg-tertiary)\",\n                  color: \"var(--text-primary)\"\n                }}\n              />\n              <button onClick={handleTagAdd} style={{ marginLeft: \"5px\", padding: \"8px 12px\" }}>\n                Add\n              </button>\n            </div>\n            <div style={{ display: \"flex\", gap: \"5px\", flexWrap: \"wrap\", marginBottom: \"10px\" }}>\n              {formData.tags.map((tag, i) => (\n                <span\n                  key={i}\n                  onClick={() => setFormData(prev => ({\n                    ...prev,\n                    tags: prev.tags.filter(t => t !== tag)\n                  }))}\n                  style={{\n                    padding: \"4px 8px\",\n                    background: \"#f5ba13\",\n                    color: \"white\",\n                    borderRadius: \"12px\",\n                    fontSize: \"12px\",\n                    cursor: \"pointer\"\n                  }}\n                >\n                  {tag} \n                </span>\n              ))}\n            </div>\n            <select\n              value={formData.priority}\n              onChange={(e) => handleChange(\"priority\", e.target.value)}\n              style={{\n                padding: \"8px\",\n                border: \"1px solid var(--border-color)\",\n                borderRadius: \"4px\",\n                background: \"var(--bg-tertiary)\",\n                color: \"var(--text-primary)\"\n              }}\n            >\n              <option value=\"low\">Low Priority</option>\n              <option value=\"medium\">Medium Priority</option>\n              <option value=\"high\">High Priority</option>\n              <option value=\"urgent\">Urgent</option>\n            </select>\n          </div>\n        )}\n\n        {activeTab === \"deadline\" && (\n          <div>\n            <label style={{ display: \"block\", marginBottom: \"10px\", color: \"var(--text-primary)\" }}>\n              Deadline Date & Time\n            </label>\n            <DatePicker\n              selected={deadlineDate}\n              onChange={(date) => setDeadlineDate(date)}\n              showTimeSelect\n              dateFormat=\"MMMM d, yyyy h:mm aa\"\n              style={{ width: \"100%\", padding: \"10px\" }}\n            />\n          </div>\n        )}\n\n        {activeTab === \"news\" && (\n          <div>\n            <label style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"10px\" }}>\n              <input\n                type=\"checkbox\"\n                checked={formData.news.enabled}\n                onChange={(e) => handleChange(\"news.enabled\", e.target.checked)}\n                style={{ marginRight: \"8px\" }}\n              />\n              <span style={{ color: \"var(--text-primary)\" }}>Enable News Integration</span>\n            </label>\n            {formData.news.enabled && (\n              <div>\n                <input\n                  type=\"text\"\n                  placeholder=\"Enter keywords (comma-separated)\"\n                  value={formData.news.keywords.join(\", \")}\n                  onChange={(e) => handleChange(\"news.keywords\", e.target.value.split(\",\").map(k => k.trim()).filter(k => k))}\n                  style={{\n                    width: \"100%\",\n                    padding: \"10px\",\n                    border: \"1px solid var(--border-color)\",\n                    borderRadius: \"4px\",\n                    background: \"var(--bg-tertiary)\",\n                    color: \"var(--text-primary)\"\n                  }}\n                />\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === \"financial\" && (\n          <div>\n            <label style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"10px\" }}>\n              <input\n                type=\"checkbox\"\n                checked={formData.financial.enabled}\n                onChange={(e) => handleChange(\"financial.enabled\", e.target.checked)}\n                style={{ marginRight: \"8px\" }}\n              />\n              <span style={{ color: \"var(--text-primary)\" }}>Enable Financial Tracking</span>\n            </label>\n            {formData.financial.enabled && (\n              <div>\n                <select\n                  value={formData.financial.type}\n                  onChange={(e) => handleChange(\"financial.type\", e.target.value)}\n                  style={{\n                    width: \"100%\",\n                    padding: \"10px\",\n                    marginBottom: \"10px\",\n                    border: \"1px solid var(--border-color)\",\n                    borderRadius: \"4px\",\n                    background: \"var(--bg-tertiary)\",\n                    color: \"var(--text-primary)\"\n                  }}\n                >\n                  <option value=\"stock\">Stocks</option>\n                  <option value=\"crypto\">Cryptocurrency</option>\n                  <option value=\"predictive\">Predictive Markets</option>\n                </select>\n                <input\n                  type=\"text\"\n                  placeholder=\"Symbols (comma-separated, e.g., AAPL,TSLA or BTC,ETH)\"\n                  value={formData.financial.symbols.join(\",\")}\n                  onChange={(e) => handleChange(\"financial.symbols\", e.target.value.split(\",\").map(s => s.trim().toUpperCase()).filter(s => s))}\n                  style={{\n                    width: \"100%\",\n                    padding: \"10px\",\n                    border: \"1px solid var(--border-color)\",\n                    borderRadius: \"4px\",\n                    background: \"var(--bg-tertiary)\",\n                    color: \"var(--text-primary)\"\n                  }}\n                />\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === \"social\" && (\n          <div>\n            <label style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"10px\" }}>\n              <input\n                type=\"checkbox\"\n                checked={formData.social.x.enabled}\n                onChange={(e) => handleChange(\"social.x.enabled\", e.target.checked)}\n                style={{ marginRight: \"8px\" }}\n              />\n              <span style={{ color: \"var(--text-primary)\" }}>Enable X/Twitter Integration</span>\n            </label>\n            {formData.social.x.enabled && (\n              <div>\n                <input\n                  type=\"text\"\n                  placeholder=\"Keywords to track (comma-separated)\"\n                  value={formData.social.x.keywords.join(\", \")}\n                  onChange={(e) => handleChange(\"social.x.keywords\", e.target.value.split(\",\").map(k => k.trim()).filter(k => k))}\n                  style={{\n                    width: \"100%\",\n                    padding: \"10px\",\n                    border: \"1px solid var(--border-color)\",\n                    borderRadius: \"4px\",\n                    background: \"var(--bg-tertiary)\",\n                    color: \"var(--text-primary)\"\n                  }}\n                />\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Actions */}\n      <div style={{ padding: \"15px\", borderTop: \"1px solid var(--border-color)\", display: \"flex\", justifyContent: \"flex-end\", gap: \"10px\" }}>\n        <button\n          onClick={onCancel}\n          style={{\n            padding: \"8px 16px\",\n            background: \"#999\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          }}\n        >\n          Cancel\n        </button>\n        <button\n          onClick={handleSubmit}\n          style={{\n            padding: \"8px 16px\",\n            background: \"#4CAF50\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          }}\n        >\n          {note ? \"Update\" : \"Create\"} Note\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default EnhancedNoteForm;\n\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { API_BASE } from \"../config\";\n\nexport default function DeadlinesView({ onRefresh }) {\n  const [upcoming, setUpcoming] = useState([]);\n  const [overdue, setOverdue] = useState([]);\n  const [days, setDays] = useState(14);\n  const [loading, setLoading] = useState(true);\n  const [updatingId, setUpdatingId] = useState(null);\n\n  const fetchDeadlines = useCallback(async () => {\n    setLoading(true);\n    try {\n      const [upRes, overRes] = await Promise.all([\n        fetch(`${API_BASE}/api/notes/upcoming-deadlines?days=${days}`),\n        fetch(`${API_BASE}/api/notes/overdue`)\n      ]);\n      if (upRes.ok) setUpcoming(await upRes.json());\n      else setUpcoming([]);\n      if (overRes.ok) setOverdue(await overRes.json());\n      else setOverdue([]);\n    } catch (e) {\n      console.error(\"Error fetching deadlines\", e);\n      setUpcoming([]);\n      setOverdue([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [days]);\n\n  useEffect(() => {\n    fetchDeadlines();\n  }, [fetchDeadlines]);\n\n  async function updateDeadlineStatus(noteId, status) {\n    setUpdatingId(noteId);\n    try {\n      const res = await fetch(`${API_BASE}/api/notes/${noteId}/deadline-status`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ status })\n      });\n      if (res.ok) {\n        await fetchDeadlines();\n        if (onRefresh) onRefresh();\n      }\n    } finally {\n      setUpdatingId(null);\n    }\n  }\n\n  const sectionStyle = {\n    marginBottom: \"24px\",\n    padding: \"16px\",\n    background: \"var(--bg-secondary)\",\n    borderRadius: \"7px\",\n    boxShadow: \"0 1px 5px var(--shadow)\"\n  };\n  const cardStyle = {\n    padding: \"12px\",\n    marginBottom: \"8px\",\n    background: \"var(--bg-tertiary)\",\n    borderRadius: \"4px\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    flexWrap: \"wrap\",\n    gap: \"8px\"\n  };\n  const overdueCardStyle = { ...cardStyle, borderLeft: \"4px solid #f44336\" };\n\n  return (\n    <div style={{ width: \"95%\", maxWidth: \"640px\", margin: \"20px auto\" }}>\n      <h2 style={{ color: \"var(--text-primary)\", marginBottom: \"16px\" }}>\n        <span role=\"img\" aria-label=\"Deadlines\"></span> Deadlines\n      </h2>\n\n      <div style={{ marginBottom: \"16px\", display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\n        <label style={{ color: \"var(--text-primary)\" }}>Upcoming (days):</label>\n        <select\n          value={days}\n          onChange={(e) => setDays(Number(e.target.value))}\n          style={{ padding: \"6px\", fontSize: \"14px\" }}\n        >\n          <option value={7}>7</option>\n          <option value={14}>14</option>\n          <option value={30}>30</option>\n        </select>\n        <button\n          type=\"button\"\n          onClick={fetchDeadlines}\n          disabled={loading}\n          style={{ padding: \"6px 12px\", background: \"#f5ba13\", color: \"white\", border: \"none\", borderRadius: \"4px\", cursor: loading ? \"wait\" : \"pointer\" }}\n        >\n          Refresh\n        </button>\n      </div>\n\n      {loading ? (\n        <div style={{ color: \"var(--text-secondary)\" }}>Loading</div>\n      ) : (\n        <>\n          <div style={sectionStyle}>\n            <h3 style={{ color: \"#f44336\", marginBottom: \"12px\" }}>Overdue</h3>\n            {overdue.length === 0 ? (\n              <p style={{ color: \"var(--text-secondary)\" }}>No overdue notes.</p>\n            ) : (\n              overdue.map((note) => (\n                <div key={note._id || note.id} style={overdueCardStyle}>\n                  <div>\n                    <strong style={{ color: \"var(--text-primary)\" }}>{note.title || \"Untitled\"}</strong>\n                    <div style={{ fontSize: \"12px\", color: \"var(--text-secondary)\" }}>\n                      Due: {note.deadline && note.deadline.date ? new Date(note.deadline.date).toLocaleString() : \"\"}\n                    </div>\n                  </div>\n                  <select\n                    value={note.deadline?.status || \"pending\"}\n                    onChange={(e) => updateDeadlineStatus(note._id || note.id, e.target.value)}\n                    disabled={updatingId === (note._id || note.id)}\n                    style={{ padding: \"4px 8px\", fontSize: \"12px\" }}\n                  >\n                    <option value=\"pending\">Pending</option>\n                    <option value=\"completed\">Completed</option>\n                    <option value=\"cancelled\">Cancelled</option>\n                  </select>\n                </div>\n              ))\n            )}\n          </div>\n\n          <div style={sectionStyle}>\n            <h3 style={{ color: \"var(--text-primary)\", marginBottom: \"12px\" }}>Upcoming</h3>\n            {upcoming.length === 0 ? (\n              <p style={{ color: \"var(--text-secondary)\" }}>No upcoming deadlines.</p>\n            ) : (\n              upcoming.map((note) => (\n                <div key={note._id || note.id} style={cardStyle}>\n                  <div>\n                    <strong style={{ color: \"var(--text-primary)\" }}>{note.title || \"Untitled\"}</strong>\n                    <div style={{ fontSize: \"12px\", color: \"var(--text-secondary)\" }}>\n                      Due: {note.deadline && note.deadline.date ? new Date(note.deadline.date).toLocaleString() : \"\"}\n                    </div>\n                  </div>\n                  <select\n                    value={note.deadline?.status || \"pending\"}\n                    onChange={(e) => updateDeadlineStatus(note._id || note.id, e.target.value)}\n                    disabled={updatingId === (note._id || note.id)}\n                    style={{ padding: \"4px 8px\", fontSize: \"12px\" }}\n                  >\n                    <option value=\"pending\">Pending</option>\n                    <option value=\"completed\">Completed</option>\n                    <option value=\"cancelled\">Cancelled</option>\n                  </select>\n                </div>\n              ))\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\n\n/**\n * One WebSocket per URL for the whole app. Created once, never closed by the hook\n * (so remounts don't cause connect/disconnect). The hook only wires the latest\n * onMessage via a ref.\n */\nconst shared = new Map();\n\nfunction getConnection(url, messageHandlerRef, setConnected) {\n  let c = shared.get(url);\n  if (c) {\n    c.messageHandlerRef = messageHandlerRef;\n    c.setConnected = setConnected;\n    if (c.ws && c.ws.readyState === WebSocket.OPEN && setConnected) setConnected(true);\n    return c;\n  }\n\n  const ws = new WebSocket(url);\n  c = {\n    ws,\n    messageHandlerRef: null,\n    setConnected: null\n  };\n  shared.set(url, c);\n\n  ws.onopen = () => {\n    ws.send(JSON.stringify({ type: \"subscribe\" }));\n    if (c.setConnected) c.setConnected(true);\n  };\n\n  ws.onmessage = (event) => {\n    try {\n      const data = JSON.parse(event.data);\n      if (data.type === \"note_update\" && c.messageHandlerRef?.current) {\n        c.messageHandlerRef.current(data);\n      }\n    } catch (_) {}\n  };\n\n  ws.onerror = (err) => {\n    console.error(\"WebSocket error:\", err);\n  };\n\n  ws.onclose = () => {\n    if (c.setConnected) c.setConnected(false);\n  };\n\n  c.messageHandlerRef = messageHandlerRef;\n  c.setConnected = setConnected;\n  return c;\n}\n\nconst useWebSocket = (url, onMessage) => {\n  const [isConnected, setIsConnected] = useState(false);\n  const handlerRef = useRef(onMessage);\n  handlerRef.current = onMessage;\n\n  useEffect(() => {\n    if (!url) return;\n    const c = getConnection(url, handlerRef, setIsConnected);\n    if (c.ws.readyState === WebSocket.OPEN) setIsConnected(true);\n    return () => {\n      c.messageHandlerRef = null;\n      c.setConnected = null;\n    };\n  }, [url]);\n\n  return { isConnected };\n};\n\nexport default useWebSocket;\n","/**\n * Functional component that manages a list of notes in a React application.\n *\n * @returns {JSX.Element} The rendered React component.\n */\nimport React, { useState, useEffect, useMemo, useCallback, useRef } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Note from \"./Note\";\nimport CreateArea from \"./CreateArea\";\nimport TrashView from \"./TrashView\";\nimport ExportImport from \"./ExportImport\";\nimport TemplateSelector from \"./TemplateSelector\";\nimport ThemeToggle from \"./ThemeToggle\";\nimport IntegrationDashboard from \"./IntegrationDashboard\";\nimport CommandPalette from \"./CommandPalette\";\nimport SplitView from \"./SplitView\";\nimport VoiceRecorder from \"./VoiceRecorder\";\nimport DrawingCanvas from \"./DrawingCanvas\";\nimport FocusMode from \"./FocusMode\";\nimport EnhancedNoteForm from \"./EnhancedNoteForm\";\nimport DeadlinesView from \"./DeadlinesView\";\nimport useWebSocket from \"../hooks/useWebSocket\";\nimport { useTheme } from \"../contexts/ThemeContext\";\nimport { API_BASE, WS_URL } from \"../config\";\n\nfunction App() {\n  const { theme, toggleTheme } = useTheme();\n  const searchInputRef = useRef(null);\n  const [notes, setNotes] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"updatedAt\");\n  const [sortOrder, setSortOrder] = useState(\"desc\");\n  const [filterTags, setFilterTags] = useState([]);\n  const [filterPriority, setFilterPriority] = useState(\"\");\n  const [showArchived, setShowArchived] = useState(false);\n  const [showTrash, setShowTrash] = useState(false);\n  const [showExportImport, setShowExportImport] = useState(false);\n  const [showDashboard, setShowDashboard] = useState(false);\n  const [showDeadlines, setShowDeadlines] = useState(false);\n  const [showCommandPalette, setShowCommandPalette] = useState(false);\n  const [showSplitView, setShowSplitView] = useState(false);\n  const [showFocusMode, setShowFocusMode] = useState(false);\n  const [showVoiceRecorder, setShowVoiceRecorder] = useState(false);\n  const [showDrawing, setShowDrawing] = useState(false);\n  const [showEnhancedForm, setShowEnhancedForm] = useState(false);\n  const [selectedNoteId, setSelectedNoteId] = useState(null);\n  const [availableTags, setAvailableTags] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [notesPerPage] = useState(20);\n\n  /**\n   * Fetches the notes from the API when the component mounts. \n   * Makes use of the get from the server.jsx file in the connection and database. \n   */\n  const fetchNotes = useCallback(async () => {\n    try {\n      const params = new URLSearchParams();\n      if (searchQuery) params.append(\"q\", searchQuery);\n      if (filterTags.length > 0) {\n        filterTags.forEach(tag => params.append(\"tags\", tag));\n      }\n      if (filterPriority) params.append(\"priority\", filterPriority);\n      if (showArchived) params.append(\"isArchived\", \"true\");\n      params.append(\"sortBy\", sortBy);\n      params.append(\"sortOrder\", sortOrder);\n      params.append(\"page\", currentPage);\n      params.append(\"limit\", 20);\n\n      const url = searchQuery \n        ? `${API_BASE}/api/notes/search?${params.toString()}`\n        : `${API_BASE}/api/notes/GetNotes?${params.toString()}`;\n\n      const response = await fetch(url);\n\n      if (response.ok) {\n        const fetchedNotes = await response.json();\n        setNotes(fetchedNotes);\n      } else {\n        console.error(\"Failed to fetch notes\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching notes\", error);\n    }\n  }, [searchQuery, filterTags, filterPriority, showArchived, sortBy, sortOrder, currentPage]);\n\n  const fetchTags = useCallback(async () => {\n    try {\n      const response = await fetch(`${API_BASE}/api/notes/tags`);\n      if (response.ok) {\n        const tags = await response.json();\n        setAvailableTags(tags);\n      }\n    } catch (error) {\n      console.error(\"Error fetching tags\", error);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchNotes();\n    fetchTags();\n  }, [fetchNotes, fetchTags]);\n\n  // WebSocket for real-time updates\n  const handleWebSocketMessage = useCallback((data) => {\n    if (data.type === \"note_update\") {\n      fetchNotes();\n      fetchTags();\n    }\n  }, [fetchNotes, fetchTags]);\n\n  useWebSocket(WS_URL, handleWebSocketMessage);\n\n  // Command Palette keyboard shortcut\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if ((e.metaKey || e.ctrlKey) && e.key === \"k\") {\n        e.preventDefault();\n        setShowCommandPalette(true);\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, []);\n\n  // Handle command palette commands\n  const handleCommand = useCallback((command) => {\n    setShowCommandPalette(false);\n    switch (command) {\n      case \"create-note\":\n        setShowEnhancedForm(true);\n        setSelectedNoteId(null);\n        break;\n      case \"search\":\n        setTimeout(() => searchInputRef.current?.focus(), 0);\n        break;\n      case \"dashboard\":\n        setShowDashboard(true);\n        setShowTrash(false);\n        setShowExportImport(false);\n        setShowDeadlines(false);\n        break;\n      case \"trash\":\n        setShowTrash(true);\n        setShowDashboard(false);\n        setShowExportImport(false);\n        setShowDeadlines(false);\n        break;\n      case \"export\":\n        setShowExportImport(true);\n        break;\n      case \"import\":\n        setShowExportImport(true);\n        break;\n      case \"dark-mode\":\n        toggleTheme();\n        break;\n      case \"focus-mode\":\n        setShowFocusMode(true);\n        break;\n      case \"deadlines\":\n        setShowDeadlines(true);\n        setShowDashboard(false);\n        setShowTrash(false);\n        setShowExportImport(false);\n        break;\n      default:\n        break;\n    }\n  }, [toggleTheme]);\n\n  const openEnhancedFormForNote = useCallback((noteId) => {\n    setSelectedNoteId(noteId);\n    setShowEnhancedForm(true);\n  }, []);\n\n  const fetchNewsForNote = useCallback(async (id) => {\n    try {\n      await fetch(`${API_BASE}/api/notes/${id}/fetch-news`, { method: \"POST\" });\n      await fetchNotes();\n    } catch (e) {\n      console.error(\"Error fetching news\", e);\n    }\n  }, [fetchNotes]);\n\n  const fetchTweetsForNote = useCallback(async (id) => {\n    try {\n      await fetch(`${API_BASE}/api/notes/${id}/fetch-tweets`, { method: \"POST\" });\n      await fetchNotes();\n    } catch (e) {\n      console.error(\"Error fetching tweets\", e);\n    }\n  }, [fetchNotes]);\n\n  const updateFinancialForNote = useCallback(async (id) => {\n    try {\n      await fetch(`${API_BASE}/api/notes/${id}/update-financial`, { method: \"POST\", headers: { \"Content-Type\": \"application/json\" } });\n      await fetchNotes();\n    } catch (e) {\n      console.error(\"Error updating financial\", e);\n    }\n  }, [fetchNotes]);\n\n  const updateAllForNote = useCallback(async (id) => {\n    try {\n      await fetch(`${API_BASE}/api/notes/${id}/update-all`, { method: \"POST\" });\n      await fetchNotes();\n    } catch (e) {\n      console.error(\"Error updating all\", e);\n    }\n  }, [fetchNotes]);\n\n  // Refetch notes when filters change\n  useEffect(() => {\n    fetchNotes();\n  }, [fetchNotes]);\n\n  /**\n   * Adds a new note to the `notes` state and the API.\n   * Makes use of the post from the server.jsx file in the connection & database. \n   * @param {Object} newNote - The new note to be added.\n   */\n  const addNote = useCallback(async (newNote) => {\n    try {\n      const response = await fetch(`${API_BASE}/api/notes/AddNote`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(newNote),\n      });\n\n      if (response.ok) {\n        fetchNotes();\n        fetchTags();\n      } else {\n        console.error(\"Failed to add note\");\n      }\n    } catch (error) {\n      console.error(\"Error adding note\", error);\n    }\n  }, [fetchNotes, fetchTags]);\n\n  /**\n   * Updates an existing note.\n   * @param {string} id - The id of the note to be updated.\n   * @param {Object} updateData - The data to update.\n   */\n  const updateNote = useCallback(async (id, updateData) => {\n    try {\n      const response = await fetch(`${API_BASE}/api/notes/UpdateNote/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(updateData),\n      });\n\n      if (response.ok) {\n        fetchNotes();\n        fetchTags();\n      } else {\n        console.error(\"Failed to update note\");\n      }\n    } catch (error) {\n      console.error(\"Error updating note\", error);\n    }\n  }, [fetchNotes, fetchTags]);\n\n  // Handle template selection\n  const handleTemplateSelect = useCallback((templateData) => {\n    addNote(templateData);\n  }, [addNote]);\n\n  // Handle import\n  const handleImport = useCallback(async (importedNotes) => {\n    try {\n      const response = await fetch(`${API_BASE}/api/notes/import`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ notes: importedNotes }),\n      });\n\n      if (response.ok) {\n        fetchNotes();\n        fetchTags();\n      }\n    } catch (error) {\n      console.error(\"Error importing notes\", error);\n    }\n  }, [fetchNotes, fetchTags]);\n\n  // Pagination\n  const paginatedNotes = useMemo(() => {\n    const startIndex = (currentPage - 1) * notesPerPage;\n    return notes.slice(startIndex, startIndex + notesPerPage);\n  }, [notes, currentPage, notesPerPage]);\n\n  const totalPages = Math.ceil(notes.length / notesPerPage);\n\n  // Note: Removed localStorage sync as we're using server-side storage\n\n  /**\n   * Pins or unpins a note.\n   */\n  async function pinNote(id, isPinned) {\n    try {\n      const response = await fetch(`${API_BASE}/api/notes/${id}/pin`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ isPinned }),\n      });\n\n      if (response.ok) {\n        fetchNotes();\n      }\n    } catch (error) {\n      console.error(\"Error pinning note\", error);\n    }\n  }\n\n  /**\n   * Archives or unarchives a note.\n   */\n  async function archiveNote(id, isArchived) {\n    try {\n      const response = await fetch(`${API_BASE}/api/notes/${id}/archive`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ isArchived }),\n      });\n\n      if (response.ok) {\n        fetchNotes();\n      }\n    } catch (error) {\n      console.error(\"Error archiving note\", error);\n    }\n  }\n\n  /**\n   * Moves a note to trash.\n   */\n  async function trashNote(id, isDeleted) {\n    try {\n      const response = await fetch(`${API_BASE}/api/notes/${id}/trash`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ isDeleted }),\n      });\n\n      if (response.ok) {\n        fetchNotes();\n      }\n    } catch (error) {\n      console.error(\"Error trashing note\", error);\n    }\n  }\n\n  /**\n   * Deletes a note from the `notes` state and the API.\n   * Makes use of the delete function from the server.jsx and the database. \n   * @param {string} id - The id of the note to be deleted.\n   */\n  async function deleteNote(id) {\n    try {\n      const response = await fetch(`${API_BASE}/api/notes/DeleteNote/${id}`, {\n        method: \"DELETE\",\n      });\n\n      if (response.ok) {\n        response.json().then((addedNote) => {\n          setNotes((prevNotes) => prevNotes.filter((noteItem) => noteItem._id !== id));\n        });\n      } else {\n        console.error(\"Failed to delete note\");\n      }\n    } catch (error) {\n      console.error(\"Error deleting note\", error);\n    }\n  }\n\n  // Handle enhanced form save\n  const handleEnhancedFormSave = useCallback(async (formData) => {\n    if (selectedNoteId) {\n      await updateNote(selectedNoteId, formData);\n      setSelectedNoteId(null);\n    } else {\n      await addNote(formData);\n    }\n    setShowEnhancedForm(false);\n  }, [selectedNoteId, updateNote, addNote]);\n\n  // Handle voice transcript\n  const handleVoiceTranscript = useCallback((transcript) => {\n    addNote({\n      title: \"Voice Note\",\n      content: transcript,\n      tags: [\"voice\"]\n    });\n    setShowVoiceRecorder(false);\n  }, [addNote]);\n\n  // Handle drawing save\n  const handleDrawingSave = useCallback((dataURL) => {\n    addNote({\n      title: \"Drawing\",\n      content: \"See attached drawing\",\n      attachments: [{ type: \"image\", url: dataURL }],\n      tags: [\"drawing\"]\n    });\n    setShowDrawing(false);\n  }, [addNote]);\n\n  return (\n    <div style={{ background: theme === \"dark\" ? \"#1a1a1a\" : \"#eee\", minHeight: \"100vh\", paddingBottom: \"60px\" }}>\n      <Header />\n      <ThemeToggle />\n      \n      <CommandPalette\n        isOpen={showCommandPalette}\n        onClose={() => setShowCommandPalette(false)}\n        onCommand={handleCommand}\n      />\n      \n      {showFocusMode && (\n        <FocusMode onExit={() => setShowFocusMode(false)}>\n          <div style={{ maxWidth: \"800px\", margin: \"0 auto\" }}>\n            <CreateArea onAdd={addNote} />\n            {notes.slice(0, 5).map((noteItem) => (\n              <Note\n                key={noteItem._id}\n                id={noteItem._id}\n                title={noteItem.title}\n                content={noteItem.content}\n                tags={noteItem.tags || []}\n                priority={noteItem.priority}\n                isPinned={noteItem.isPinned}\n                isArchived={noteItem.isArchived}\n                deadline={noteItem.deadline}\n                news={noteItem.news}\n                financial={noteItem.financial}\n                social={noteItem.social}\n                attachments={noteItem.attachments}\n                drawings={noteItem.drawings}\n                onDelete={() => deleteNote(noteItem._id)}\n                onUpdate={updateNote}\n                onPin={pinNote}\n                onArchive={archiveNote}\n                onTrash={trashNote}\n                onOpenEnhancedEdit={() => openEnhancedFormForNote(noteItem._id)}\n                onFetchNews={fetchNewsForNote}\n                onFetchTweets={fetchTweetsForNote}\n                onUpdateFinancial={updateFinancialForNote}\n                onUpdateAll={updateAllForNote}\n                onIntegrationComplete={fetchNotes}\n              />\n            ))}\n          </div>\n        </FocusMode>\n      )}\n      \n      {showEnhancedForm && (\n        <EnhancedNoteForm\n          note={selectedNoteId ? notes.find(n => n._id === selectedNoteId) : null}\n          onSave={handleEnhancedFormSave}\n          onCancel={() => {\n            setShowEnhancedForm(false);\n            setSelectedNoteId(null);\n          }}\n        />\n      )}\n      \n      {showVoiceRecorder && (\n        <div style={{ width: \"600px\", margin: \"20px auto\" }}>\n          <VoiceRecorder onTranscript={handleVoiceTranscript} />\n        </div>\n      )}\n      \n      {showDrawing && (\n        <div style={{ width: \"900px\", margin: \"20px auto\" }}>\n          <DrawingCanvas onSave={handleDrawingSave} />\n        </div>\n      )}\n      \n      {showSplitView && !showEnhancedForm && !showVoiceRecorder && !showDrawing && (\n        <div style={{ width: \"95%\", margin: \"20px auto\" }}>\n          <div style={{ marginBottom: \"10px\", display: \"flex\", justifyContent: \"space-between\" }}>\n            <h2 style={{ color: \"var(--text-primary)\" }}>Split View</h2>\n            <button\n              onClick={() => setShowSplitView(false)}\n              style={{\n                padding: \"8px 16px\",\n                background: \"#999\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"4px\",\n                cursor: \"pointer\"\n              }}\n            >\n              Exit Split View\n            </button>\n          </div>\n          <SplitView\n            notes={notes}\n            selectedNoteId={selectedNoteId}\n            onNoteSelect={setSelectedNoteId}\n            onUpdate={updateNote}\n            onDelete={deleteNote}\n            onPin={pinNote}\n            onArchive={archiveNote}\n            onTrash={trashNote}\n            onOpenEnhancedEdit={openEnhancedFormForNote}\n            onFetchNews={fetchNewsForNote}\n            onFetchTweets={fetchTweetsForNote}\n            onUpdateFinancial={updateFinancialForNote}\n            onUpdateAll={updateAllForNote}\n            onIntegrationComplete={fetchNotes}\n          />\n        </div>\n      )}\n      \n      {/* Navigation Tabs */}\n      {!showSplitView && !showEnhancedForm && !showVoiceRecorder && !showDrawing && !showFocusMode && (\n        <div className=\"navigation-buttons\" style={{\n          width: \"95%\",\n          maxWidth: \"1200px\",\n          margin: \"20px auto\",\n          display: \"flex\",\n          gap: \"10px\",\n          justifyContent: \"center\",\n          flexWrap: \"wrap\"\n        }}>\n          <button\n            onClick={() => { setShowTrash(false); setShowExportImport(false); setShowDashboard(false); setShowDeadlines(false); }}\n            style={{\n              padding: \"8px 16px\",\n              background: !showTrash && !showExportImport && !showDashboard && !showDeadlines ? \"#f5ba13\" : \"#999\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            Notes\n          </button>\n          <button\n            onClick={() => { setShowTrash(false); setShowExportImport(false); setShowDashboard(true); setShowDeadlines(false); }}\n            style={{\n              padding: \"8px 16px\",\n              background: showDashboard ? \"#f5ba13\" : \"#999\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            Dashboard\n          </button>\n          <button\n            onClick={() => { setShowDeadlines(true); setShowTrash(false); setShowExportImport(false); setShowDashboard(false); }}\n            style={{\n              padding: \"8px 16px\",\n              background: showDeadlines ? \"#f5ba13\" : \"#999\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            <span role=\"img\" aria-label=\"Deadlines\"></span> Deadlines\n          </button>\n          <button\n            onClick={() => { setShowTrash(true); setShowExportImport(false); setShowDashboard(false); setShowDeadlines(false); }}\n            style={{\n              padding: \"8px 16px\",\n              background: showTrash ? \"#f5ba13\" : \"#999\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            Trash\n          </button>\n          <button\n            onClick={() => { setShowTrash(false); setShowExportImport(!showExportImport); setShowDashboard(false); }}\n            style={{\n              padding: \"8px 16px\",\n              background: showExportImport ? \"#f5ba13\" : \"#999\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            Export/Import\n          </button>\n          <button\n            onClick={() => { setShowSplitView(true); }}\n            style={{\n              padding: \"8px 16px\",\n              background: \"#2196F3\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            Split View\n          </button>\n          <button\n            onClick={() => { setShowVoiceRecorder(true); setShowDrawing(false); }}\n            style={{\n              padding: \"8px 16px\",\n              background: \"#9C27B0\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            <span role=\"img\" aria-label=\"Voice recorder\"></span> Voice\n          </button>\n          <button\n            onClick={() => { setShowDrawing(true); setShowVoiceRecorder(false); }}\n            style={{\n              padding: \"8px 16px\",\n              background: \"#FF9800\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            <span role=\"img\" aria-label=\"Drawing tool\"></span> Draw\n          </button>\n          <button\n            onClick={() => { setShowEnhancedForm(true); setSelectedNoteId(null); }}\n            style={{\n              padding: \"8px 16px\",\n              background: \"#4CAF50\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            + Enhanced\n          </button>\n        </div>\n      )}\n\n      {showDashboard ? (\n        <IntegrationDashboard />\n      ) : showTrash ? (\n        <TrashView onRestore={fetchNotes} onDeletePermanent={fetchNotes} />\n      ) : showExportImport ? (\n        <ExportImport notes={notes} onImport={handleImport} />\n      ) : showDeadlines ? (\n        <DeadlinesView onRefresh={fetchNotes} />\n      ) : !showSplitView && !showEnhancedForm && !showVoiceRecorder && !showDrawing ? (\n        <>\n          {/* Search and Filter Bar */}\n          <div className=\"search-filter-container\" style={{\n            width: \"480px\",\n            margin: \"20px auto\",\n            padding: \"15px\",\n            background: \"var(--bg-secondary)\",\n            borderRadius: \"7px\",\n            boxShadow: \"0 1px 5px var(--shadow)\"\n          }}>\n        <input\n          ref={searchInputRef}\n          type=\"text\"\n          placeholder=\"Search notes...\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n          style={{\n            width: \"100%\",\n            padding: \"8px\",\n            fontSize: \"14px\",\n            border: \"1px solid #ddd\",\n            borderRadius: \"4px\",\n            marginBottom: \"10px\"\n          }}\n        />\n        \n        <div style={{ display: \"flex\", gap: \"10px\", flexWrap: \"wrap\", marginBottom: \"10px\" }}>\n          <select\n            value={sortBy}\n            onChange={(e) => setSortBy(e.target.value)}\n            style={{ padding: \"6px\", fontSize: \"12px\", border: \"1px solid #ddd\", borderRadius: \"4px\" }}\n          >\n            <option value=\"updatedAt\">Sort by: Updated</option>\n            <option value=\"createdAt\">Sort by: Created</option>\n            <option value=\"title\">Sort by: Title</option>\n            <option value=\"priority\">Sort by: Priority</option>\n          </select>\n          \n          <button\n            onClick={() => setSortOrder(sortOrder === \"asc\" ? \"desc\" : \"asc\")}\n            style={{\n              padding: \"6px 12px\",\n              fontSize: \"12px\",\n              border: \"1px solid #ddd\",\n              borderRadius: \"4px\",\n              background: \"#f5ba13\",\n              color: \"white\",\n              cursor: \"pointer\"\n            }}\n          >\n            {sortOrder === \"asc\" ? \"\" : \"\"}\n          </button>\n          \n          <select\n            value={filterPriority}\n            onChange={(e) => setFilterPriority(e.target.value)}\n            style={{ padding: \"6px\", fontSize: \"12px\", border: \"1px solid #ddd\", borderRadius: \"4px\" }}\n          >\n            <option value=\"\">All Priorities</option>\n            <option value=\"urgent\">Urgent</option>\n            <option value=\"high\">High</option>\n            <option value=\"medium\">Medium</option>\n            <option value=\"low\">Low</option>\n          </select>\n          \n          <button\n            onClick={() => setShowArchived(!showArchived)}\n            style={{\n              padding: \"6px 12px\",\n              fontSize: \"12px\",\n              border: \"1px solid #ddd\",\n              borderRadius: \"4px\",\n              background: showArchived ? \"#ff9800\" : \"#fff\",\n              color: showArchived ? \"white\" : \"black\",\n              cursor: \"pointer\"\n            }}\n          >\n            {showArchived ? \" Archived\" : \" Archive\"}\n          </button>\n        </div>\n        \n        {/* Tag Filters */}\n        {availableTags.length > 0 && (\n          <div style={{ marginTop: \"10px\" }}>\n            <div style={{ fontSize: \"12px\", marginBottom: \"5px\" }}>Filter by tags:</div>\n            <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"5px\" }}>\n              {availableTags.map((tag) => (\n                <button\n                  key={tag}\n                  onClick={() => {\n                    if (filterTags.includes(tag)) {\n                      setFilterTags(filterTags.filter(t => t !== tag));\n                    } else {\n                      setFilterTags([...filterTags, tag]);\n                    }\n                  }}\n                  style={{\n                    padding: \"4px 8px\",\n                    fontSize: \"11px\",\n                    border: \"1px solid #ddd\",\n                    borderRadius: \"12px\",\n                    background: filterTags.includes(tag) ? \"#f5ba13\" : \"#fff\",\n                    color: filterTags.includes(tag) ? \"white\" : \"black\",\n                    cursor: \"pointer\"\n                  }}\n                >\n                  {tag}\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n      \n            <div style={{ position: \"relative\", width: \"480px\", margin: \"20px auto\" }}>\n              <TemplateSelector onSelectTemplate={handleTemplateSelect} />\n            </div>\n            \n            <CreateArea onAdd={addNote} />\n            \n            {/* Pagination Info */}\n            {notes.length > notesPerPage && (\n              <div style={{\n                width: \"480px\",\n                margin: \"10px auto\",\n                textAlign: \"center\",\n                color: \"var(--text-secondary)\",\n                fontSize: \"14px\"\n              }}>\n                Showing {((currentPage - 1) * notesPerPage) + 1} - {Math.min(currentPage * notesPerPage, notes.length)} of {notes.length} notes\n              </div>\n            )}\n\n            {paginatedNotes.length === 0 ? (\n              <div style={{ textAlign: \"center\", padding: \"20px\", color: \"var(--text-secondary)\" }}>\n                {showArchived ? \"No archived notes\" : searchQuery ? \"No notes found\" : \"No notes yet. Create one!\"}\n              </div>\n            ) : (\n              <>\n                {paginatedNotes.map((noteItem) => (\n                  <Note\n                    key={noteItem._id}\n                    id={noteItem._id}\n                    title={noteItem.title}\n                    content={noteItem.content}\n                    tags={noteItem.tags || []}\n                    priority={noteItem.priority}\n                    isPinned={noteItem.isPinned}\n                    isArchived={noteItem.isArchived}\n                    deadline={noteItem.deadline}\n                    news={noteItem.news}\n                    financial={noteItem.financial}\n                    social={noteItem.social}\n                    attachments={noteItem.attachments}\n                    drawings={noteItem.drawings}\n                    onDelete={() => deleteNote(noteItem._id)}\n                    onUpdate={updateNote}\n                    onPin={pinNote}\n                    onArchive={archiveNote}\n                    onTrash={trashNote}\n                    onOpenEnhancedEdit={() => openEnhancedFormForNote(noteItem._id)}\n                    onFetchNews={fetchNewsForNote}\n                    onFetchTweets={fetchTweetsForNote}\n                    onUpdateFinancial={updateFinancialForNote}\n                    onUpdateAll={updateAllForNote}\n                    onIntegrationComplete={fetchNotes}\n                  />\n                ))}\n                \n                {/* Pagination Controls */}\n                {totalPages > 1 && (\n                  <div className=\"pagination-controls\" style={{\n                    width: \"480px\",\n                    margin: \"20px auto\",\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    gap: \"10px\"\n                  }}>\n                    <button\n                      onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\n                      disabled={currentPage === 1}\n                      style={{\n                        padding: \"8px 16px\",\n                        background: currentPage === 1 ? \"#ccc\" : \"#f5ba13\",\n                        color: \"white\",\n                        border: \"none\",\n                        borderRadius: \"4px\",\n                        cursor: currentPage === 1 ? \"not-allowed\" : \"pointer\"\n                      }}\n                    >\n                      Previous\n                    </button>\n                    <span style={{\n                      padding: \"8px 16px\",\n                      color: \"var(--text-primary)\"\n                    }}>\n                      Page {currentPage} of {totalPages}\n                    </span>\n                    <button\n                      onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\n                      disabled={currentPage === totalPages}\n                      style={{\n                        padding: \"8px 16px\",\n                        background: currentPage === totalPages ? \"#ccc\" : \"#f5ba13\",\n                        color: \"white\",\n                        border: \"none\",\n                        borderRadius: \"4px\",\n                        cursor: currentPage === totalPages ? \"not-allowed\" : \"pointer\"\n                      }}\n                    >\n                      Next\n                    </button>\n                  </div>\n                )}\n              </>\n            )}\n          </>\n        ) : null}\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport { ThemeProvider } from \"./contexts/ThemeContext\";\n\nReactDOM.render(\n  <ThemeProvider>\n    <App />\n  </ThemeProvider>,\n  document.getElementById(\"root\")\n);\n\n"],"sourceRoot":""}