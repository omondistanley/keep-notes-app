(this["webpackJsonpstudents-keeper-app-part-1-starting-forked"]=this["webpackJsonpstudents-keeper-app-part-1-starting-forked"]||[]).push([[0],{12:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));const n=(()=>{var t;return"undefined"!==typeof e&&(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:""}))||void 0===t?void 0:t.REACT_APP_API_URL)?Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL.replace(/\/$/,""):"http://localhost:3050"})(),r=(()=>{var t;return"undefined"!==typeof e&&(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:""}))||void 0===t?void 0:t.REACT_APP_WS_URL)?Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_WS_URL:"ws://localhost:3051"})()}).call(this,a(284))},279:function(e,t,a){e.exports=a(548)},548:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(56),l=a.n(o);var i=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Keeper"))};var c=function(){const e=(new Date).getFullYear();return r.a.createElement("footer",null,r.a.createElement("p",null,"Copyright \u24d2 ",e))},d=a(5);const s={position:"relative",float:"right",marginRight:"10px",color:"#f5ba13",border:"none",width:"36px",height:"36px",cursor:"pointer",outline:"none",background:"transparent",fontSize:"14px"},p={display:"inline-block",background:"#f5ba13",color:"white",padding:"2px 8px",borderRadius:"12px",fontSize:"12px",margin:"2px 4px 2px 0"},m={display:"inline-block",padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"bold",marginLeft:"8px"},u={urgent:{background:"#ff4444",color:"white"},high:{background:"#ff8800",color:"white"},medium:{background:"#ffbb33",color:"black"},low:{background:"#99cc00",color:"black"}},b={marginTop:"10px",padding:"8px",background:"var(--bg-tertiary, #f5f5f5)",borderRadius:"4px",fontSize:"12px",color:"var(--text-secondary, #666)"};var g=function(e){var t,a;const[o,l]=Object(n.useState)(!1),[i,c]=Object(n.useState)(e.title||""),[g,x]=Object(n.useState)(e.content||""),[y,h]=Object(n.useState)(null);async function f(t,a){if(a){h(t);try{await a(e.id),e.onIntegrationComplete&&e.onIntegrationComplete()}finally{h(null)}}}if(o)return r.a.createElement("div",{className:"note",style:{background:"#fffacd"}},r.a.createElement("input",{type:"text",value:i,onChange:e=>c(e.target.value),style:{width:"100%",padding:"8px",marginBottom:"8px",fontSize:"1.2em",border:"1px solid #ddd",borderRadius:"4px"},placeholder:"Title"}),r.a.createElement("textarea",{value:g,onChange:e=>x(e.target.value),style:{width:"100%",padding:"8px",minHeight:"100px",fontSize:"1em",border:"1px solid #ddd",borderRadius:"4px",resize:"vertical"},placeholder:"Content"}),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("button",{onClick:function(){e.onUpdate(e.id,{title:i,content:g}),l(!1)},style:Object(d.a)(Object(d.a)({},s),{},{color:"#4CAF50",marginRight:"5px"})},"SAVE"),r.a.createElement("button",{onClick:function(){c(e.title||""),x(e.content||""),l(!1)},style:Object(d.a)(Object(d.a)({},s),{},{color:"#f44336"})},"CANCEL")));const v=e.deadline&&(e.deadline.date||e.deadline.time),E=e.news&&e.news.articles&&e.news.articles.length>0,w=e.financial&&(e.financial.summary||e.financial.data&&e.financial.data.prices&&e.financial.data.prices.length>0),k=null===(t=e.social)||void 0===t||null===(a=t.x)||void 0===a?void 0:a.tweets,O=k&&Array.isArray(k)&&k.length>0,j=e.attachments&&e.attachments.length>0,S=e.drawings&&e.drawings.length>0,C=e.onFetchNews||e.onFetchTweets||e.onUpdateFinancial||e.onUpdateAll;return r.a.createElement("div",{className:"note",style:{position:"relative",borderLeft:e.isPinned?"4px solid #f5ba13":"none"}},e.isPinned&&r.a.createElement("span",{role:"img","aria-label":"Pinned",style:{position:"absolute",top:"5px",right:"5px",fontSize:"20px"}},"\ud83d\udccc"),r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.content),e.tags&&e.tags.length>0&&r.a.createElement("div",{style:{marginTop:"10px",marginBottom:"10px"}},e.tags.map((e,t)=>r.a.createElement("span",{key:t,style:p},e))),e.priority&&r.a.createElement("span",{style:Object(d.a)(Object(d.a)({},m),u[e.priority])},e.priority.toUpperCase()),v&&r.a.createElement("div",{style:b},r.a.createElement("strong",null,r.a.createElement("span",{role:"img","aria-label":"Deadline"},"\ud83d\udcc5")," Deadline:")," ",e.deadline.date?new Date(e.deadline.date).toLocaleString():"",e.deadline.status&&" (".concat(e.deadline.status,")")),E&&r.a.createElement("div",{style:b},r.a.createElement("strong",null,r.a.createElement("span",{role:"img","aria-label":"News"},"\ud83d\udcf0")," News:")," ",e.news.articles[0].title||e.news.articles[0].snippet),w&&r.a.createElement("div",{style:b},r.a.createElement("strong",null,r.a.createElement("span",{role:"img","aria-label":"Financial"},"\ud83d\udcc8")," Financial:")," ",e.financial.summary||(e.financial.data&&e.financial.data.prices&&e.financial.data.prices.length>0?e.financial.data.prices.map((e,t)=>"".concat(e.symbol,": ").concat(e.price)).join(", "):"")),O&&r.a.createElement("div",{style:b},r.a.createElement("strong",null,r.a.createElement("span",{role:"img","aria-label":"Social"},"\ud83d\udc26")," X:")," ",k[0].text?k[0].text.substring(0,80)+"\u2026":"Tweets attached"),j&&r.a.createElement("div",{style:Object(d.a)(Object(d.a)({},b),{},{display:"flex",flexWrap:"wrap",gap:"8px"})},r.a.createElement("strong",null,r.a.createElement("span",{role:"img","aria-label":"Attachments"},"\ud83d\udcce")," Attachments:"),e.attachments.map((e,t)=>"image"===e.type&&e.url?r.a.createElement("img",{key:t,src:e.url,alt:"",style:{maxWidth:"120px",maxHeight:"80px",objectFit:"cover",borderRadius:"4px"}}):r.a.createElement("span",{key:t},e.type))),S&&r.a.createElement("div",{style:b},r.a.createElement("span",{role:"img","aria-label":"Drawing"},"\u270f\ufe0f")," Drawing attached"),C&&r.a.createElement("div",{style:Object(d.a)(Object(d.a)({},b),{},{display:"flex",flexWrap:"wrap",gap:"6px",alignItems:"center"})},r.a.createElement("strong",null,"Integrations:"),e.onFetchNews&&r.a.createElement("button",{type:"button",disabled:"news"===y,onClick:()=>f("news",e.onFetchNews),style:{padding:"4px 8px",fontSize:"11px",cursor:"news"===y?"wait":"pointer"}},"news"===y?"\u2026":"Fetch news"),e.onFetchTweets&&r.a.createElement("button",{type:"button",disabled:"tweets"===y,onClick:()=>f("tweets",e.onFetchTweets),style:{padding:"4px 8px",fontSize:"11px",cursor:"tweets"===y?"wait":"pointer"}},"tweets"===y?"\u2026":"Fetch tweets"),e.onUpdateFinancial&&r.a.createElement("button",{type:"button",disabled:"financial"===y,onClick:()=>f("financial",e.onUpdateFinancial),style:{padding:"4px 8px",fontSize:"11px",cursor:"financial"===y?"wait":"pointer"}},"financial"===y?"\u2026":"Update financial"),e.onUpdateAll&&r.a.createElement("button",{type:"button",disabled:"all"===y,onClick:()=>f("all",e.onUpdateAll),style:{padding:"4px 8px",fontSize:"11px",cursor:"all"===y?"wait":"pointer"}},"all"===y?"\u2026":"Update all")),r.a.createElement("div",{className:"note-actions",style:{marginTop:"10px",display:"flex",gap:"5px",flexWrap:"wrap"}},e.onOpenEnhancedEdit&&r.a.createElement("button",{onClick:e.onOpenEnhancedEdit,style:Object(d.a)(Object(d.a)({},s),{},{color:"#9C27B0"})},"EDIT (ENHANCED)"),r.a.createElement("button",{onClick:function(){l(!0)},style:Object(d.a)(Object(d.a)({},s),{},{color:"#2196F3"})},"EDIT"),r.a.createElement("button",{onClick:function(){e.onPin(e.id,!e.isPinned)},style:Object(d.a)(Object(d.a)({},s),{},{color:e.isPinned?"#f5ba13":"#999"})},r.a.createElement("span",{role:"img","aria-label":e.isPinned?"Unpin":"Pin"},e.isPinned?"\ud83d\udccc":"\ud83d\udccd")),r.a.createElement("button",{onClick:function(){e.onArchive(e.id,!e.isArchived)},style:Object(d.a)(Object(d.a)({},s),{},{color:e.isArchived?"#ff9800":"#999"})},r.a.createElement("span",{role:"img","aria-label":e.isArchived?"Unarchive":"Archive"},e.isArchived?"\ud83d\udce6":"\ud83d\udcc1")),r.a.createElement("button",{onClick:function(){e.onTrash(e.id,!0)},style:Object(d.a)(Object(d.a)({},s),{},{color:"#999"})},r.a.createElement("span",{role:"img","aria-label":"Move to trash"},"\ud83d\uddd1\ufe0f")),r.a.createElement("button",{onClick:function(){window.confirm("Are you sure you want to delete this note?")&&e.onDelete(e.id)},style:Object(d.a)(Object(d.a)({},s),{},{color:"#f44336"})},"DELETE")))};const x={position:"absolute",right:"18px",bottom:"-18px",background:"#f5ba13",color:"#fff",border:"none",borderRadius:"50%",width:"36px",height:"36px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.3)",cursor:"pointer",outline:"none"},y={width:"100%",border:"none",padding:"4px",outline:"none",fontSize:"1.2em",fontFamily:"inherit",resize:"none"},h={position:"relative",width:"480px",margin:"30px auto 20px auto",background:"#fff",padding:"15px",borderRadius:"7px",boxShadow:"0 1px 5px rgb(138, 137, 137)"};var f=function(e){const[t,a]=Object(n.useState)({title:"",content:"",tags:[],priority:"medium"}),[o,l]=Object(n.useState)(""),[i,c]=Object(n.useState)(!1),[s,p]=Object(n.useState)({deadline:null,news:{enabled:!1,keywords:[]},financial:{enabled:!1,type:"crypto",symbols:[]},social:{x:{enabled:!1,keywords:[]}}});function m(e){const{name:t,value:n}=e.target;a(e=>Object(d.a)(Object(d.a)({},e),{},{[t]:n}))}return r.a.createElement("div",null,r.a.createElement("form",{style:h,onSubmit:function(n){n.preventDefault();const r=Object(d.a)({},t);i&&(s.deadline&&(r.deadline={date:new Date(s.deadline).toISOString(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,status:"pending",reminder:{enabled:!0,intervals:[1440,60]}}),s.news.enabled&&s.news.keywords.length&&(r.news={enabled:!0,keywords:s.news.keywords}),s.financial.enabled&&s.financial.symbols.length&&(r.financial={enabled:!0,type:s.financial.type,symbols:s.financial.symbols}),s.social.x.enabled&&s.social.x.keywords.length&&(r.social={x:{enabled:!0,keywords:s.social.x.keywords}})),e.onAdd(r),a({title:"",content:"",tags:[],priority:"medium"}),l(""),p({deadline:null,news:{enabled:!1,keywords:[]},financial:{enabled:!1,type:"crypto",symbols:[]},social:{x:{enabled:!1,keywords:[]}}})}},r.a.createElement("input",{name:"title",onChange:m,style:y,value:t.title,placeholder:"Title"}),r.a.createElement("textarea",{name:"content",onChange:m,style:y,value:t.content,placeholder:"Take a note...",rows:"3"}),r.a.createElement("div",{style:{marginTop:"10px",marginBottom:"10px"}},t.tags.map((e,t)=>r.a.createElement("span",{key:t,style:{display:"inline-block",background:"#f5ba13",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",margin:"2px 4px 2px 0",cursor:"pointer"},onClick:()=>{return t=e,void a(e=>Object(d.a)(Object(d.a)({},e),{},{tags:e.tags.filter(e=>e!==t)}));var t}},e," \xd7")),r.a.createElement("input",{type:"text",value:o,onChange:e=>l(e.target.value),onKeyDown:function(e){if("Enter"===e.key&&o.trim()){e.preventDefault();const n=o.trim();t.tags.includes(n)||a(e=>Object(d.a)(Object(d.a)({},e),{},{tags:[...e.tags,n]})),l("")}else"Backspace"===e.key&&!o&&t.tags.length>0&&a(e=>Object(d.a)(Object(d.a)({},e),{},{tags:e.tags.slice(0,-1)}))},placeholder:"Add tags (press Enter)",style:{border:"none",outline:"none",fontSize:"12px",padding:"4px",width:"150px"}})),r.a.createElement("div",{style:{marginTop:"10px",marginBottom:"10px"}},r.a.createElement("label",{style:{fontSize:"12px",marginRight:"8px"}},"Priority: "),r.a.createElement("select",{name:"priority",value:t.priority,onChange:m,style:{padding:"4px 8px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"4px"}},r.a.createElement("option",{value:"low"},"Low"),r.a.createElement("option",{value:"medium"},"Medium"),r.a.createElement("option",{value:"high"},"High"),r.a.createElement("option",{value:"urgent"},"Urgent"))),r.a.createElement("div",{style:{marginTop:"10px",marginBottom:"10px"}},r.a.createElement("button",{type:"button",onClick:()=>c(!i),style:{fontSize:"12px",padding:"6px 10px",background:i?"#e6b800":"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"}},i?"\u25bc":"\u25b6"," Integrations (deadline, news, financial, social)"),i&&r.a.createElement("div",{style:{marginTop:"10px",padding:"10px",background:"#f9f9f9",borderRadius:"4px",fontSize:"12px"}},r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"4px"}},r.a.createElement("span",{role:"img","aria-label":"calendar"},"\ud83d\udcc5")," Deadline (optional)"),r.a.createElement("input",{type:"datetime-local",value:s.deadline||"",onChange:e=>p(t=>Object(d.a)(Object(d.a)({},t),{},{deadline:e.target.value||null})),style:{padding:"4px 8px",width:"100%",maxWidth:"280px",border:"1px solid #ddd",borderRadius:"4px"}})),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("label",{style:{display:"flex",alignItems:"center",marginBottom:"4px"}},r.a.createElement("input",{type:"checkbox",checked:s.news.enabled,onChange:e=>p(t=>Object(d.a)(Object(d.a)({},t),{},{news:Object(d.a)(Object(d.a)({},t.news),{},{enabled:e.target.checked})})),style:{marginRight:"6px"}}),"\ud83d\udcf0 News (keywords)"),s.news.enabled&&r.a.createElement("input",{type:"text",placeholder:"e.g. technology, AI, crypto",value:s.news.keywords.join(", "),onChange:e=>p(t=>Object(d.a)(Object(d.a)({},t),{},{news:Object(d.a)(Object(d.a)({},t.news),{},{keywords:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)})})),style:{padding:"4px 8px",width:"100%",maxWidth:"280px",marginTop:"4px",border:"1px solid #ddd",borderRadius:"4px"}})),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("label",{style:{display:"flex",alignItems:"center",marginBottom:"4px"}},r.a.createElement("input",{type:"checkbox",checked:s.financial.enabled,onChange:e=>p(t=>Object(d.a)(Object(d.a)({},t),{},{financial:Object(d.a)(Object(d.a)({},t.financial),{},{enabled:e.target.checked})})),style:{marginRight:"6px"}}),"\ud83d\udcc8 Financial"),s.financial.enabled&&r.a.createElement("div",{style:{marginTop:"4px"}},r.a.createElement("select",{value:s.financial.type,onChange:e=>p(t=>Object(d.a)(Object(d.a)({},t),{},{financial:Object(d.a)(Object(d.a)({},t.financial),{},{type:e.target.value})})),style:{padding:"4px 8px",marginRight:"8px",border:"1px solid #ddd",borderRadius:"4px"}},r.a.createElement("option",{value:"crypto"},"Crypto"),r.a.createElement("option",{value:"stock"},"Stocks")),r.a.createElement("input",{type:"text",placeholder:"crypto"===s.financial.type?"e.g. BTC, ETH":"e.g. AAPL, TSLA",value:s.financial.symbols.join(", "),onChange:e=>p(t=>Object(d.a)(Object(d.a)({},t),{},{financial:Object(d.a)(Object(d.a)({},t.financial),{},{symbols:e.target.value.split(",").map(e=>e.trim().toUpperCase()).filter(Boolean)})})),style:{padding:"4px 8px",width:"100%",maxWidth:"200px",border:"1px solid #ddd",borderRadius:"4px"}}))),r.a.createElement("div",{style:{marginBottom:"4px"}},r.a.createElement("label",{style:{display:"flex",alignItems:"center",marginBottom:"4px"}},r.a.createElement("input",{type:"checkbox",checked:s.social.x.enabled,onChange:e=>p(t=>Object(d.a)(Object(d.a)({},t),{},{social:Object(d.a)(Object(d.a)({},t.social),{},{x:Object(d.a)(Object(d.a)({},t.social.x),{},{enabled:e.target.checked})})})),style:{marginRight:"6px"}}),"\ud83d\udc26 X / Social keywords"),s.social.x.enabled&&r.a.createElement("input",{type:"text",placeholder:"e.g. crypto, tech",value:s.social.x.keywords.join(", "),onChange:e=>p(t=>Object(d.a)(Object(d.a)({},t),{},{social:{x:Object(d.a)(Object(d.a)({},t.social.x),{},{keywords:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)})}})),style:{padding:"4px 8px",width:"100%",maxWidth:"280px",marginTop:"4px",border:"1px solid #ddd",borderRadius:"4px"}})))),r.a.createElement("button",{type:"submit",style:x},"Add")))},v=a(12);var E=e=>{let{onRestore:t,onDeletePermanent:a}=e;const[o,l]=Object(n.useState)([]);async function i(){try{const e=await fetch("".concat(v.a,"/api/notes/trash"));if(e.ok){const t=await e.json();l(t)}}catch(e){console.error("Error fetching trashed notes",e)}}async function c(e){if(window.confirm("Are you sure you want to permanently delete this note? This action cannot be undone."))try{(await fetch("".concat(v.a,"/api/notes/DeleteNote/").concat(e),{method:"DELETE"})).ok&&(i(),a&&a())}catch(t){console.error("Error deleting note permanently",t)}}return Object(n.useEffect)(()=>{i()},[]),r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("h2",null,"Trash (",o.length,")"),o.length>0&&r.a.createElement("button",{onClick:async function(){if(window.confirm("Are you sure you want to permanently delete all ".concat(o.length," notes? This action cannot be undone.")))try{await Promise.all(o.map(e=>fetch("".concat(v.a,"/api/notes/DeleteNote/").concat(e._id),{method:"DELETE"}))),i()}catch(e){console.error("Error emptying trash",e)}},style:{padding:"8px 16px",background:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Empty Trash")),0===o.length?r.a.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#999"}},"Trash is empty"):r.a.createElement("div",null,o.map(e=>r.a.createElement("div",{key:e._id,style:{position:"relative",display:"inline-block",margin:"16px"}},r.a.createElement(g,{id:e._id,title:e.title,content:e.content,tags:e.tags||[],priority:e.priority,isPinned:!1,isArchived:!1,onDelete:()=>c(e._id),onUpdate:()=>{},onPin:()=>{},onArchive:()=>{},onTrash:()=>{}}),r.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},r.a.createElement("button",{onClick:()=>async function(e){try{(await fetch("".concat(v.a,"/api/notes/").concat(e,"/trash"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isDeleted:!1})})).ok&&(i(),t&&t())}catch(a){console.error("Error restoring note",a)}}(e._id),style:{padding:"6px 12px",background:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px"}},"Restore"),r.a.createElement("button",{onClick:()=>c(e._id),style:{padding:"6px 12px",background:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Delete Forever"))))))};var w=e=>{let{notes:t,onImport:a}=e;const[o,l]=Object(n.useState)(null),[i,c]=Object(n.useState)(!1);return r.a.createElement("div",{style:{width:"480px",margin:"20px auto",padding:"20px",background:"var(--bg-secondary)",borderRadius:"7px",boxShadow:"0 1px 5px var(--shadow)"}},r.a.createElement("h3",{style:{marginBottom:"15px",color:"var(--text-primary)"}},"Export / Import Notes"),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("h4",{style:{marginBottom:"10px",color:"var(--text-primary)"}},"Export"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"}},r.a.createElement("button",{onClick:()=>{const e=JSON.stringify(t,null,2),a=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download="notes-export-".concat((new Date).toISOString().split("T")[0],".json"),r.click(),URL.revokeObjectURL(n)},style:{padding:"8px 16px",background:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Export as JSON (current page)"),r.a.createElement("button",{onClick:()=>{let e="# Notes Export\n\n";e+="Exported on: ".concat((new Date).toLocaleString(),"\n\n"),e+="Total Notes: ".concat(t.length,"\n\n"),e+="---\n\n",t.forEach((t,a)=>{e+="## ".concat(t.title||"Note ".concat(a+1),"\n\n"),t.tags&&t.tags.length>0&&(e+="**Tags:** ".concat(t.tags.join(", "),"\n\n")),t.priority&&(e+="**Priority:** ".concat(t.priority,"\n\n")),e+="".concat(t.content||"","\n\n"),e+="*Created: ".concat(new Date(t.createdAt).toLocaleString(),"*\n\n"),e+="---\n\n"});const a=new Blob([e],{type:"text/markdown"}),n=URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download="notes-export-".concat((new Date).toISOString().split("T")[0],".md"),r.click(),URL.revokeObjectURL(n)},style:{padding:"8px 16px",background:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Export as Markdown"),r.a.createElement("button",{onClick:async()=>{c(!0);try{const e=await fetch("".concat(v.a,"/api/notes/export"));if(!e.ok)throw new Error("Export failed");const t=await e.blob(),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="notes-export-".concat((new Date).toISOString().split("T")[0],".json"),n.click(),URL.revokeObjectURL(a)}catch(e){console.error("Export from server failed",e),alert("Export from server failed. Check console.")}finally{c(!1)}},disabled:i,style:{padding:"8px 16px",background:"#673AB7",color:"white",border:"none",borderRadius:"4px",cursor:i?"wait":"pointer"}},i?"Exporting\u2026":"Export from server (all notes)"))),r.a.createElement("div",null,r.a.createElement("h4",{style:{marginBottom:"10px",color:"var(--text-primary)"}},"Import"),r.a.createElement("input",{type:"file",accept:".json",onChange:e=>{const t=e.target.files[0];t&&"application/json"===t.type?l(t):alert("Please select a valid JSON file")},style:{marginBottom:"10px"}}),o&&r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"10px"}},"Selected: ",o.name),r.a.createElement("button",{onClick:()=>{if(!o)return;const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);Array.isArray(t)?(a&&a(t),alert("Successfully imported ".concat(t.length," notes!")),l(null)):alert("Invalid file format. Expected an array of notes.")}catch(t){alert("Error parsing JSON file: "+t.message)}},e.readAsText(o)},style:{padding:"8px 16px",background:"#ff9800",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Import Notes"))))};var k=e=>{let{onSelectTemplate:t}=e;const[a,o]=Object(n.useState)([]),[l,i]=Object(n.useState)(!1);function c(e){const a=function(e){const t=(new Date).toLocaleDateString();let a=e.title,n=e.content;return a=a.replace(/\{\{date\}\}/g,t),a=a.replace(/\{\{topic\}\}/g,""),a=a.replace(/\{\{name\}\}/g,""),n=n.replace(/\{\{date\}\}/g,t),n=n.replace(/\{\{startDate\}\}/g,t),n=n.replace(/\{\{deadline\}\}/g,""),n=n.replace(/\{\{name\}\}/g,""),n=n.replace(/\{\{attendees\}\}/g,""),{title:a,content:n,tags:e.tags||[]}}(e);t&&t(a),i(!1)}return Object(n.useEffect)(()=>{!async function(){try{const e=await fetch("".concat(v.a,"/api/templates"));if(e.ok){const t=await e.json();o(t)}}catch(e){console.error("Error fetching templates",e)}}()},[]),r.a.createElement("div",null,r.a.createElement("button",{onClick:()=>i(!l),style:{padding:"8px 16px",background:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"10px"}},r.a.createElement("span",{role:"img","aria-label":"Template"},"\ud83d\udccb")," Use Template"),l&&r.a.createElement("div",{style:{position:"absolute",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"15px",boxShadow:"0 4px 6px var(--shadow)",zIndex:1e3,minWidth:"250px"}},r.a.createElement("h4",{style:{marginBottom:"10px",color:"var(--text-primary)"}},"Select Template"),a.map(e=>r.a.createElement("button",{key:e.id,onClick:()=>c(e),style:{display:"block",width:"100%",padding:"10px",marginBottom:"5px",background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",cursor:"pointer",textAlign:"left"}},e.name)),r.a.createElement("button",{onClick:()=>i(!1),style:{marginTop:"10px",padding:"6px 12px",background:"#999",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Cancel")))};const O=Object(n.createContext)(),j=e=>{let{children:t}=e;const[a,o]=Object(n.useState)(()=>localStorage.getItem("theme")||"light");Object(n.useEffect)(()=>{localStorage.setItem("theme",a),document.documentElement.setAttribute("data-theme",a)},[a]);return r.a.createElement(O.Provider,{value:{theme:a,toggleTheme:()=>{o(e=>"light"===e?"dark":"light")}}},t)},S=()=>{const e=r.a.useContext(O);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e};var C=()=>{const{theme:e,toggleTheme:t}=S();return r.a.createElement("button",{onClick:t,style:{position:"fixed",top:"20px",right:"20px",padding:"10px 15px",background:"dark"===e?"#333":"#f5ba13",color:"white",border:"none",borderRadius:"50%",cursor:"pointer",fontSize:"20px",boxShadow:"0 2px 5px rgba(0,0,0,0.3)",zIndex:1e3},title:"dark"===e?"Switch to Light Mode":"Switch to Dark Mode"},"dark"===e?"\u2600\ufe0f":"\ud83c\udf19")},R=a(553),T=a(554),A=a(269),N=a(270),P=a(52),B=a(113),D=a(267);var U=()=>{const[e,t]=Object(n.useState)({totalNotes:0,pinnedNotes:0,archivedNotes:0,trashedNotes:0,notesByPriority:{urgent:0,high:0,medium:0,low:0}});return Object(n.useEffect)(()=>{!async function(){try{const[e,a,n]=await Promise.all([fetch("".concat(v.a,"/api/notes/GetNotes")).then(e=>e.json()),fetch("".concat(v.a,"/api/notes/archived")).then(e=>e.json()),fetch("".concat(v.a,"/api/notes/trash")).then(e=>e.json())]),r=e.filter(e=>e.isPinned).length,o={urgent:e.filter(e=>"urgent"===e.priority).length,high:e.filter(e=>"high"===e.priority).length,medium:e.filter(e=>"medium"===e.priority).length,low:e.filter(e=>"low"===e.priority).length};t({totalNotes:e.length,pinnedNotes:r,archivedNotes:a.length,trashedNotes:n.length,notesByPriority:o})}catch(e){console.error("Error fetching stats",e)}}()},[]),r.a.createElement("div",{style:{width:"480px",margin:"20px auto",padding:"20px",background:"var(--bg-secondary)",borderRadius:"7px",boxShadow:"0 1px 5px var(--shadow)"}},r.a.createElement("h2",{style:{marginBottom:"20px",color:"var(--text-primary)"}},"Dashboard"),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"}},r.a.createElement("div",{style:{padding:"15px",background:"var(--bg-tertiary)",borderRadius:"4px",textAlign:"center"}},r.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#2196F3"}},e.totalNotes),r.a.createElement("div",{style:{fontSize:"12px",color:"var(--text-secondary)"}},"Total Notes")),r.a.createElement("div",{style:{padding:"15px",background:"var(--bg-tertiary)",borderRadius:"4px",textAlign:"center"}},r.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#f5ba13"}},e.pinnedNotes),r.a.createElement("div",{style:{fontSize:"12px",color:"var(--text-secondary)"}},"Pinned")),r.a.createElement("div",{style:{padding:"15px",background:"var(--bg-tertiary)",borderRadius:"4px",textAlign:"center"}},r.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ff9800"}},e.archivedNotes),r.a.createElement("div",{style:{fontSize:"12px",color:"var(--text-secondary)"}},"Archived")),r.a.createElement("div",{style:{padding:"15px",background:"var(--bg-tertiary)",borderRadius:"4px",textAlign:"center"}},r.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#999"}},e.trashedNotes),r.a.createElement("div",{style:{fontSize:"12px",color:"var(--text-secondary)"}},"Trashed"))),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("h3",{style:{marginBottom:"10px",fontSize:"16px",color:"var(--text-primary)"}},"Notes by Priority"),r.a.createElement("div",{style:{height:"220px",width:"100%"}},r.a.createElement(R.a,{width:"100%",height:"100%"},r.a.createElement(T.a,{data:[{name:"Urgent",count:e.notesByPriority.urgent,fill:"#ff4444"},{name:"High",count:e.notesByPriority.high,fill:"#ff8800"},{name:"Medium",count:e.notesByPriority.medium,fill:"#ffbb33"},{name:"Low",count:e.notesByPriority.low,fill:"#99cc00"}],margin:{top:10,right:10,left:0,bottom:5}},r.a.createElement(A.a,{dataKey:"name",tick:{fontSize:12,fill:"var(--text-primary)"}}),r.a.createElement(N.a,{tick:{fontSize:12,fill:"var(--text-primary)"},allowDecimals:!1}),r.a.createElement(P.a,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)"},labelStyle:{color:"var(--text-primary)"}}),r.a.createElement(B.a,{dataKey:"count",radius:[4,4,0,0]},[{fill:"#ff4444"},{fill:"#ff8800"},{fill:"#ffbb33"},{fill:"#99cc00"}].map((e,t)=>r.a.createElement(D.a,{key:t,fill:e.fill})))))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("span",{style:{color:"var(--text-primary)"}},"Urgent"),r.a.createElement("span",{style:{color:"#ff4444",fontWeight:"bold"}},e.notesByPriority.urgent)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("span",{style:{color:"var(--text-primary)"}},"High"),r.a.createElement("span",{style:{color:"#ff8800",fontWeight:"bold"}},e.notesByPriority.high)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("span",{style:{color:"var(--text-primary)"}},"Medium"),r.a.createElement("span",{style:{color:"#ffbb33",fontWeight:"bold"}},e.notesByPriority.medium)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("span",{style:{color:"var(--text-primary)"}},"Low"),r.a.createElement("span",{style:{color:"#99cc00",fontWeight:"bold"}},e.notesByPriority.low)))))},L=a(271);var F=e=>{let{isOpen:t,onClose:a,onCommand:o}=e;const[l,i]=Object(n.useState)(""),[c,d]=Object(n.useState)(0),s=Object(n.useRef)(null),p=[{id:"create-note",label:"Create Note",action:()=>o("create-note")},{id:"search",label:"Search Notes",action:()=>o("search")},{id:"dashboard",label:"Open Dashboard",action:()=>o("dashboard")},{id:"deadlines",label:"Open Deadlines",action:()=>o("deadlines")},{id:"trash",label:"Open Trash",action:()=>o("trash")},{id:"export",label:"Export Notes",action:()=>o("export")},{id:"import",label:"Import Notes",action:()=>o("import")},{id:"dark-mode",label:"Toggle Dark Mode",action:()=>o("dark-mode")},{id:"focus-mode",label:"Focus Mode",action:()=>o("focus-mode")}],m=new L.a(p,{keys:["label"],threshold:.3}),u=l?m.search(l).map(e=>e.item):p;return Object(n.useEffect)(()=>{t&&s.current&&s.current.focus()},[t]),Object(n.useEffect)(()=>{const e=e=>{t&&("Escape"===e.key?a():"ArrowDown"===e.key?(e.preventDefault(),d(e=>Math.min(e+1,u.length-1))):"ArrowUp"===e.key?(e.preventDefault(),d(e=>Math.max(e-1,0))):"Enter"===e.key&&(e.preventDefault(),u[c]&&(u[c].action(),a())))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,u,c,a]),t?r.a.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1e4,display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"20vh"},onClick:a},r.a.createElement("div",{style:{width:"600px",background:"var(--bg-secondary)",borderRadius:"8px",boxShadow:"0 4px 6px var(--shadow)",overflow:"hidden"},onClick:e=>e.stopPropagation()},r.a.createElement("div",{style:{padding:"12px",borderBottom:"1px solid var(--border-color)"}},r.a.createElement("input",{ref:s,type:"text",placeholder:"Type a command or search...",value:l,onChange:e=>{i(e.target.value),d(0)},style:{width:"100%",padding:"8px",fontSize:"16px",border:"none",outline:"none",background:"transparent",color:"var(--text-primary)"}})),r.a.createElement("div",{style:{maxHeight:"300px",overflowY:"auto"}},0===u.length?r.a.createElement("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)"}},"No commands found"):u.map((e,t)=>r.a.createElement("div",{key:e.id,onClick:()=>{e.action(),a()},style:{padding:"12px 16px",background:t===c?"var(--bg-tertiary)":"transparent",cursor:"pointer",color:"var(--text-primary)",borderLeft:t===c?"3px solid #f5ba13":"3px solid transparent"},onMouseEnter:()=>d(t)},e.label))),r.a.createElement("div",{style:{padding:"8px",fontSize:"12px",color:"var(--text-secondary)",borderTop:"1px solid var(--border-color)"}},r.a.createElement("span",null,"\u2191\u2193 Navigate")," \u2022 ",r.a.createElement("span",null,"Enter Select")," \u2022 ",r.a.createElement("span",null,"Esc Close")))):null};var I=e=>{let{notes:t,onNoteSelect:a,selectedNoteId:o,onUpdate:l,onDelete:i,onPin:c,onArchive:d,onTrash:s,onOpenEnhancedEdit:p,onFetchNews:m,onFetchTweets:u,onUpdateFinancial:b,onUpdateAll:x,onIntegrationComplete:y}=e;const[h,f]=Object(n.useState)(50),[v,E]=Object(n.useState)(!1),w=Object(n.useCallback)(()=>{E(!1)},[]);Object(n.useEffect)(()=>{if(v){const e=e=>{const t=document.querySelector(".split-container");if(!t)return;const a=t.getBoundingClientRect(),n=(e.clientX-a.left)/a.width*100;f(Math.max(20,Math.min(80,n)))};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",w),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",w)}}},[v,w]);const k=t.find(e=>e._id===o);return r.a.createElement("div",{className:"split-container",style:{display:"flex",height:"calc(100vh - 200px)",border:"1px solid var(--border-color)",borderRadius:"4px"}},r.a.createElement("div",{style:{width:"".concat(h,"%"),overflowY:"auto",borderRight:"1px solid var(--border-color)",padding:"10px"}},t.map(e=>{var t;return r.a.createElement("div",{key:e._id,onClick:()=>a(e._id),style:{padding:"10px",marginBottom:"5px",background:o===e._id?"var(--bg-tertiary)":"var(--bg-secondary)",borderRadius:"4px",cursor:"pointer",border:o===e._id?"2px solid #f5ba13":"1px solid transparent"}},r.a.createElement("h3",{style:{margin:0,fontSize:"14px",color:"var(--text-primary)"}},e.title||"Untitled"),r.a.createElement("p",{style:{margin:"5px 0 0 0",fontSize:"12px",color:"var(--text-secondary)"}},null===(t=e.content)||void 0===t?void 0:t.substring(0,100),"..."))})),r.a.createElement("div",{onMouseDown:()=>{E(!0)},style:{width:"4px",background:v?"#f5ba13":"var(--border-color)",cursor:"col-resize",userSelect:"none"}}),r.a.createElement("div",{style:{width:"".concat(100-h,"%"),overflowY:"auto",padding:"20px"}},k?r.a.createElement(g,{id:k._id,title:k.title,content:k.content,tags:k.tags||[],priority:k.priority,isPinned:k.isPinned,isArchived:k.isArchived,deadline:k.deadline,news:k.news,financial:k.financial,social:k.social,attachments:k.attachments,drawings:k.drawings,onDelete:()=>i(k._id),onUpdate:l,onPin:c,onArchive:d,onTrash:s,onOpenEnhancedEdit:p?()=>p(k._id):void 0,onFetchNews:m,onFetchTweets:u,onUpdateFinancial:b,onUpdateAll:x,onIntegrationComplete:y}):r.a.createElement("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-secondary)"}},"Select a note to view details")))};var z=e=>{let{onTranscript:t}=e;const[a,o]=Object(n.useState)(!1),[l,i]=Object(n.useState)(""),[c,d]=Object(n.useState)(null),s=Object(n.useRef)(null),p=Object(n.useRef)([]),m=window.SpeechRecognition||window.webkitSpeechRecognition,u=Object(n.useRef)(null);Object(n.useEffect)(()=>{if(m){const e=new m;e.continuous=!0,e.interimResults=!0,e.lang="en-US",e.onresult=e=>{let t="",a="";for(let n=e.resultIndex;n<e.results.length;n++){const r=e.results[n][0].transcript;e.results[n].isFinal?a+=r+" ":t+=r}i(a||t)},e.onerror=e=>{console.error("Speech recognition error:",e.error)},u.current=e}},[]);return r.a.createElement("div",{style:{padding:"20px",background:"var(--bg-secondary)",borderRadius:"4px"}},r.a.createElement("h3",{style:{marginBottom:"15px",color:"var(--text-primary)"}},"Voice Recorder"),!m&&r.a.createElement("div",{style:{padding:"10px",background:"#ffeb3b",borderRadius:"4px",marginBottom:"10px",fontSize:"12px"}},"Speech recognition not supported in this browser. Audio recording only."),r.a.createElement("div",{style:{marginBottom:"15px"}},r.a.createElement("button",{onClick:a?()=>{s.current&&a&&(s.current.stop(),o(!1)),u.current&&u.current.stop()}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e);s.current=t,p.current=[],t.ondataavailable=e=>{e.data.size>0&&p.current.push(e.data)},t.onstop=()=>{const t=new Blob(p.current,{type:"audio/wav"});d(t),e.getTracks().forEach(e=>e.stop())},t.start(),o(!0),u.current&&u.current.start()}catch(e){console.error("Error starting recording:",e),alert("Microphone access denied. Please enable microphone permissions.")}},style:{padding:"10px 20px",background:a?"#f44336":"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",marginRight:"10px"}},a?"\u23f9 Stop":"\ud83c\udfa4 Start Recording"),c&&r.a.createElement("button",{onClick:()=>{if(c){const e=URL.createObjectURL(c);new Audio(e).play()}},style:{padding:"10px 20px",background:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"\u25b6 Play")),l&&r.a.createElement("div",{style:{marginBottom:"15px"}},r.a.createElement("textarea",{value:l,onChange:e=>i(e.target.value),placeholder:"Transcript will appear here...",style:{width:"100%",minHeight:"100px",padding:"10px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-tertiary)",color:"var(--text-primary)"}})),l&&r.a.createElement("button",{onClick:()=>{l&&t&&(t(l),i(""),d(null))},style:{padding:"8px 16px",background:"#f5ba13",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Save as Note Content"))};var _=e=>{let{onSave:t,initialDrawing:a=null}=e;const o=Object(n.useRef)(null),[l,i]=Object(n.useState)(!1),[c,d]=Object(n.useState)("#000000"),[s,p]=Object(n.useState)(5);Object(n.useEffect)(()=>{const e=o.current;if(!e)return;const t=e.getContext("2d");if(e.width=800,e.height=600,a){const e=new Image;e.onload=()=>{t.drawImage(e,0,0)},e.src=a}else t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height)},[a]);const m=()=>{if(l){o.current.getContext("2d").beginPath(),i(!1)}};return r.a.createElement("div",{style:{padding:"20px",background:"var(--bg-secondary)",borderRadius:"4px"}},r.a.createElement("div",{style:{marginBottom:"15px",display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"}},r.a.createElement("div",null,r.a.createElement("label",{style:{color:"var(--text-primary)",marginRight:"5px"}},"Color:"),["#000000","#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"].map(e=>r.a.createElement("button",{key:e,onClick:()=>d(e),style:{width:"30px",height:"30px",background:e,border:c===e?"3px solid #f5ba13":"1px solid #ddd",borderRadius:"4px",cursor:"pointer",marginRight:"5px"}})),r.a.createElement("input",{type:"color",value:c,onChange:e=>d(e.target.value),style:{width:"40px",height:"30px",cursor:"pointer"}})),r.a.createElement("div",null,r.a.createElement("label",{style:{color:"var(--text-primary)",marginRight:"5px"}},"Size:"),r.a.createElement("input",{type:"range",min:"1",max:"20",value:s,onChange:e=>p(parseInt(e.target.value)),style:{width:"100px"}}),r.a.createElement("span",{style:{color:"var(--text-primary)",marginLeft:"5px"}},s,"px")),r.a.createElement("button",{onClick:()=>{const e=o.current,t=e.getContext("2d");t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height)},style:{padding:"6px 12px",background:"#999",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Clear"),r.a.createElement("button",{onClick:()=>{const e=o.current.toDataURL("image/png");t&&t(e)},style:{padding:"6px 12px",background:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Save Drawing")),r.a.createElement("canvas",{ref:o,onMouseDown:e=>{const t=o.current,a=t.getContext("2d"),n=t.getBoundingClientRect(),r=e.clientX-n.left,l=e.clientY-n.top;a.beginPath(),a.moveTo(r,l),i(!0)},onMouseMove:e=>{if(!l)return;const t=o.current,a=t.getContext("2d"),n=t.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;a.lineWidth=s,a.lineCap="round",a.strokeStyle=c,a.lineTo(r,i),a.stroke(),a.beginPath(),a.moveTo(r,i)},onMouseUp:m,onMouseLeave:m,style:{border:"2px solid var(--border-color)",borderRadius:"4px",cursor:"crosshair",background:"#ffffff",display:"block",maxWidth:"100%"}}))};var M=e=>{let{children:t,onExit:a}=e;Object(n.useEffect)(()=>{const e=()=>{};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]);return r.a.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"var(--bg-primary)",zIndex:9999,display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{padding:"10px",background:"var(--bg-secondary)",borderBottom:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("span",{style:{color:"var(--text-primary)",fontSize:"14px"}},"Focus Mode"),r.a.createElement("button",{onClick:async()=>{try{document.fullscreenElement&&await document.exitFullscreen(),a&&a()}catch(e){console.error("Error exiting fullscreen:",e)}},style:{padding:"6px 12px",background:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Exit Focus Mode")),r.a.createElement("div",{style:{flex:1,overflow:"auto",padding:"20px"}},t))},W=a(272),H=a.n(W);a(501);var J=e=>{var t,a,o,l,i,c,s,p,m,u;let{note:b=null,onSave:g,onCancel:x}=e;const[y,h]=Object(n.useState)({title:(null===b||void 0===b?void 0:b.title)||"",content:(null===b||void 0===b?void 0:b.content)||"",tags:(null===b||void 0===b?void 0:b.tags)||[],priority:(null===b||void 0===b?void 0:b.priority)||"medium",deadline:(null===b||void 0===b?void 0:b.deadline)||null,news:{enabled:(null===b||void 0===b||null===(t=b.news)||void 0===t?void 0:t.enabled)||!1,keywords:(null===b||void 0===b||null===(a=b.news)||void 0===a?void 0:a.keywords)||[]},financial:{enabled:(null===b||void 0===b||null===(o=b.financial)||void 0===o?void 0:o.enabled)||!1,type:(null===b||void 0===b||null===(l=b.financial)||void 0===l?void 0:l.type)||"stock",symbols:(null===b||void 0===b||null===(i=b.financial)||void 0===i?void 0:i.symbols)||[]},social:{x:{enabled:(null===b||void 0===b||null===(c=b.social)||void 0===c||null===(s=c.x)||void 0===s?void 0:s.enabled)||!1,keywords:(null===b||void 0===b||null===(p=b.social)||void 0===p||null===(m=p.x)||void 0===m?void 0:m.keywords)||[]}}}),[f,v]=Object(n.useState)("basic"),[E,w]=Object(n.useState)(""),[k,O]=Object(n.useState)((null===b||void 0===b||null===(u=b.deadline)||void 0===u?void 0:u.date)?new Date(b.deadline.date):null),j=(e,t)=>{if(e.includes(".")){const[a,n]=e.split(".");h(e=>Object(d.a)(Object(d.a)({},e),{},{[a]:Object(d.a)(Object(d.a)({},e[a]),{},{[n]:t})}))}else h(a=>Object(d.a)(Object(d.a)({},a),{},{[e]:t}))},S=()=>{E.trim()&&!y.tags.includes(E.trim())&&(h(e=>Object(d.a)(Object(d.a)({},e),{},{tags:[...e.tags,E.trim()]})),w(""))};return r.a.createElement("div",{style:{width:"600px",margin:"20px auto",background:"var(--bg-secondary)",borderRadius:"8px",boxShadow:"0 2px 8px var(--shadow)"}},r.a.createElement("div",{style:{display:"flex",borderBottom:"1px solid var(--border-color)"}},["basic","deadline","news","financial","social"].map(e=>r.a.createElement("button",{key:e,onClick:()=>v(e),style:{padding:"12px 20px",background:f===e?"var(--bg-tertiary)":"transparent",border:"none",borderBottom:f===e?"2px solid #f5ba13":"2px solid transparent",cursor:"pointer",color:"var(--text-primary)",textTransform:"capitalize"}},e))),r.a.createElement("div",{style:{padding:"20px"}},"basic"===f&&r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Title",value:y.title,onChange:e=>j("title",e.target.value),style:{width:"100%",padding:"10px",marginBottom:"10px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-tertiary)",color:"var(--text-primary)"}}),r.a.createElement("textarea",{placeholder:"Content",value:y.content,onChange:e=>j("content",e.target.value),rows:"10",style:{width:"100%",padding:"10px",marginBottom:"10px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-tertiary)",color:"var(--text-primary)"}}),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("input",{type:"text",placeholder:"Add tag",value:E,onChange:e=>w(e.target.value),onKeyPress:e=>"Enter"===e.key&&S(),style:{padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-tertiary)",color:"var(--text-primary)"}}),r.a.createElement("button",{onClick:S,style:{marginLeft:"5px",padding:"8px 12px"}},"Add")),r.a.createElement("div",{style:{display:"flex",gap:"5px",flexWrap:"wrap",marginBottom:"10px"}},y.tags.map((e,t)=>r.a.createElement("span",{key:t,onClick:()=>h(t=>Object(d.a)(Object(d.a)({},t),{},{tags:t.tags.filter(t=>t!==e)})),style:{padding:"4px 8px",background:"#f5ba13",color:"white",borderRadius:"12px",fontSize:"12px",cursor:"pointer"}},e," \xd7"))),r.a.createElement("select",{value:y.priority,onChange:e=>j("priority",e.target.value),style:{padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-tertiary)",color:"var(--text-primary)"}},r.a.createElement("option",{value:"low"},"Low Priority"),r.a.createElement("option",{value:"medium"},"Medium Priority"),r.a.createElement("option",{value:"high"},"High Priority"),r.a.createElement("option",{value:"urgent"},"Urgent"))),"deadline"===f&&r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-primary)"}},"Deadline Date & Time"),r.a.createElement(H.a,{selected:k,onChange:e=>O(e),showTimeSelect:!0,dateFormat:"MMMM d, yyyy h:mm aa",style:{width:"100%",padding:"10px"}})),"news"===f&&r.a.createElement("div",null,r.a.createElement("label",{style:{display:"flex",alignItems:"center",marginBottom:"10px"}},r.a.createElement("input",{type:"checkbox",checked:y.news.enabled,onChange:e=>j("news.enabled",e.target.checked),style:{marginRight:"8px"}}),r.a.createElement("span",{style:{color:"var(--text-primary)"}},"Enable News Integration")),y.news.enabled&&r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Enter keywords (comma-separated)",value:y.news.keywords.join(", "),onChange:e=>j("news.keywords",e.target.value.split(",").map(e=>e.trim()).filter(e=>e)),style:{width:"100%",padding:"10px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-tertiary)",color:"var(--text-primary)"}}))),"financial"===f&&r.a.createElement("div",null,r.a.createElement("label",{style:{display:"flex",alignItems:"center",marginBottom:"10px"}},r.a.createElement("input",{type:"checkbox",checked:y.financial.enabled,onChange:e=>j("financial.enabled",e.target.checked),style:{marginRight:"8px"}}),r.a.createElement("span",{style:{color:"var(--text-primary)"}},"Enable Financial Tracking")),y.financial.enabled&&r.a.createElement("div",null,r.a.createElement("select",{value:y.financial.type,onChange:e=>j("financial.type",e.target.value),style:{width:"100%",padding:"10px",marginBottom:"10px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-tertiary)",color:"var(--text-primary)"}},r.a.createElement("option",{value:"stock"},"Stocks"),r.a.createElement("option",{value:"crypto"},"Cryptocurrency"),r.a.createElement("option",{value:"predictive"},"Predictive Markets")),r.a.createElement("input",{type:"text",placeholder:"Symbols (comma-separated, e.g., AAPL,TSLA or BTC,ETH)",value:y.financial.symbols.join(","),onChange:e=>j("financial.symbols",e.target.value.split(",").map(e=>e.trim().toUpperCase()).filter(e=>e)),style:{width:"100%",padding:"10px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-tertiary)",color:"var(--text-primary)"}}))),"social"===f&&r.a.createElement("div",null,r.a.createElement("label",{style:{display:"flex",alignItems:"center",marginBottom:"10px"}},r.a.createElement("input",{type:"checkbox",checked:y.social.x.enabled,onChange:e=>j("social.x.enabled",e.target.checked),style:{marginRight:"8px"}}),r.a.createElement("span",{style:{color:"var(--text-primary)"}},"Enable X/Twitter Integration")),y.social.x.enabled&&r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Keywords to track (comma-separated)",value:y.social.x.keywords.join(", "),onChange:e=>j("social.x.keywords",e.target.value.split(",").map(e=>e.trim()).filter(e=>e)),style:{width:"100%",padding:"10px",border:"1px solid var(--border-color)",borderRadius:"4px",background:"var(--bg-tertiary)",color:"var(--text-primary)"}})))),r.a.createElement("div",{style:{padding:"15px",borderTop:"1px solid var(--border-color)",display:"flex",justifyContent:"flex-end",gap:"10px"}},r.a.createElement("button",{onClick:x,style:{padding:"8px 16px",background:"#999",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Cancel"),r.a.createElement("button",{onClick:()=>{const e=Object(d.a)(Object(d.a)({},y),{},{deadline:k?{date:k.toISOString(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,status:"pending",reminder:{enabled:!0,intervals:[1440,60]}}:null});g(e)},style:{padding:"8px 16px",background:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},b?"Update":"Create"," Note")))};function V(e){let{onRefresh:t}=e;const[a,o]=Object(n.useState)([]),[l,i]=Object(n.useState)([]),[c,s]=Object(n.useState)(14),[p,m]=Object(n.useState)(!0),[u,b]=Object(n.useState)(null),g=Object(n.useCallback)(async()=>{m(!0);try{const[e,t]=await Promise.all([fetch("".concat(v.a,"/api/notes/upcoming-deadlines?days=").concat(c)),fetch("".concat(v.a,"/api/notes/overdue"))]);e.ok?o(await e.json()):o([]),t.ok?i(await t.json()):i([])}catch(e){console.error("Error fetching deadlines",e),o([]),i([])}finally{m(!1)}},[c]);async function x(e,a){b(e);try{(await fetch("".concat(v.a,"/api/notes/").concat(e,"/deadline-status"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a})})).ok&&(await g(),t&&t())}finally{b(null)}}Object(n.useEffect)(()=>{g()},[g]);const y={marginBottom:"24px",padding:"16px",background:"var(--bg-secondary)",borderRadius:"7px",boxShadow:"0 1px 5px var(--shadow)"},h={padding:"12px",marginBottom:"8px",background:"var(--bg-tertiary)",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"8px"},f=Object(d.a)(Object(d.a)({},h),{},{borderLeft:"4px solid #f44336"});return r.a.createElement("div",{style:{width:"95%",maxWidth:"640px",margin:"20px auto"}},r.a.createElement("h2",{style:{color:"var(--text-primary)",marginBottom:"16px"}},r.a.createElement("span",{role:"img","aria-label":"Deadlines"},"\ud83d\udcc5")," Deadlines"),r.a.createElement("div",{style:{marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"}},r.a.createElement("label",{style:{color:"var(--text-primary)"}},"Upcoming (days):"),r.a.createElement("select",{value:c,onChange:e=>s(Number(e.target.value)),style:{padding:"6px",fontSize:"14px"}},r.a.createElement("option",{value:7},"7"),r.a.createElement("option",{value:14},"14"),r.a.createElement("option",{value:30},"30")),r.a.createElement("button",{type:"button",onClick:g,disabled:p,style:{padding:"6px 12px",background:"#f5ba13",color:"white",border:"none",borderRadius:"4px",cursor:p?"wait":"pointer"}},"Refresh")),p?r.a.createElement("div",{style:{color:"var(--text-secondary)"}},"Loading\u2026"):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:y},r.a.createElement("h3",{style:{color:"#f44336",marginBottom:"12px"}},"Overdue"),0===l.length?r.a.createElement("p",{style:{color:"var(--text-secondary)"}},"No overdue notes."):l.map(e=>{var t;return r.a.createElement("div",{key:e._id||e.id,style:f},r.a.createElement("div",null,r.a.createElement("strong",{style:{color:"var(--text-primary)"}},e.title||"Untitled"),r.a.createElement("div",{style:{fontSize:"12px",color:"var(--text-secondary)"}},"Due: ",e.deadline&&e.deadline.date?new Date(e.deadline.date).toLocaleString():"\u2014")),r.a.createElement("select",{value:(null===(t=e.deadline)||void 0===t?void 0:t.status)||"pending",onChange:t=>x(e._id||e.id,t.target.value),disabled:u===(e._id||e.id),style:{padding:"4px 8px",fontSize:"12px"}},r.a.createElement("option",{value:"pending"},"Pending"),r.a.createElement("option",{value:"completed"},"Completed"),r.a.createElement("option",{value:"cancelled"},"Cancelled")))})),r.a.createElement("div",{style:y},r.a.createElement("h3",{style:{color:"var(--text-primary)",marginBottom:"12px"}},"Upcoming"),0===a.length?r.a.createElement("p",{style:{color:"var(--text-secondary)"}},"No upcoming deadlines."):a.map(e=>{var t;return r.a.createElement("div",{key:e._id||e.id,style:h},r.a.createElement("div",null,r.a.createElement("strong",{style:{color:"var(--text-primary)"}},e.title||"Untitled"),r.a.createElement("div",{style:{fontSize:"12px",color:"var(--text-secondary)"}},"Due: ",e.deadline&&e.deadline.date?new Date(e.deadline.date).toLocaleString():"\u2014")),r.a.createElement("select",{value:(null===(t=e.deadline)||void 0===t?void 0:t.status)||"pending",onChange:t=>x(e._id||e.id,t.target.value),disabled:u===(e._id||e.id),style:{padding:"4px 8px",fontSize:"12px"}},r.a.createElement("option",{value:"pending"},"Pending"),r.a.createElement("option",{value:"completed"},"Completed"),r.a.createElement("option",{value:"cancelled"},"Cancelled")))}))))}const K=new Map;var X=(e,t)=>{const[a,r]=Object(n.useState)(!1),o=Object(n.useRef)(t);return o.current=t,Object(n.useEffect)(()=>{if(!e)return;const t=function(e,t,a){let n=K.get(e);if(n)return n.messageHandlerRef=t,n.setConnected=a,n.ws&&n.ws.readyState===WebSocket.OPEN&&a&&a(!0),n;const r=new WebSocket(e);return n={ws:r,messageHandlerRef:null,setConnected:null},K.set(e,n),r.onopen=()=>{r.send(JSON.stringify({type:"subscribe"})),n.setConnected&&n.setConnected(!0)},r.onmessage=e=>{try{var t;const a=JSON.parse(e.data);"note_update"===a.type&&(null===(t=n.messageHandlerRef)||void 0===t?void 0:t.current)&&n.messageHandlerRef.current(a)}catch(a){}},r.onerror=e=>{console.error("WebSocket error:",e)},r.onclose=()=>{n.setConnected&&n.setConnected(!1)},n.messageHandlerRef=t,n.setConnected=a,n}(e,o,r);return t.ws.readyState===WebSocket.OPEN&&r(!0),()=>{t.messageHandlerRef=null,t.setConnected=null}},[e]),{isConnected:a}};var Y=function(){const{theme:e,toggleTheme:t}=S(),a=Object(n.useRef)(null),[o,l]=Object(n.useState)([]),[d,s]=Object(n.useState)(""),[p,m]=Object(n.useState)("updatedAt"),[u,b]=Object(n.useState)("desc"),[x,y]=Object(n.useState)([]),[h,O]=Object(n.useState)(""),[j,R]=Object(n.useState)(!1),[T,A]=Object(n.useState)(!1),[N,P]=Object(n.useState)(!1),[B,D]=Object(n.useState)(!1),[L,W]=Object(n.useState)(!1),[H,K]=Object(n.useState)(!1),[Y,q]=Object(n.useState)(!1),[G,Z]=Object(n.useState)(!1),[$,Q]=Object(n.useState)(!1),[ee,te]=Object(n.useState)(!1),[ae,ne]=Object(n.useState)(!1),[re,oe]=Object(n.useState)(null),[le,ie]=Object(n.useState)([]),[ce,de]=Object(n.useState)(1),[se]=Object(n.useState)(20),pe=Object(n.useCallback)(async()=>{try{const e=new URLSearchParams;d&&e.append("q",d),x.length>0&&x.forEach(t=>e.append("tags",t)),h&&e.append("priority",h),j&&e.append("isArchived","true"),e.append("sortBy",p),e.append("sortOrder",u),e.append("page",ce),e.append("limit",20);const t=d?"".concat(v.a,"/api/notes/search?").concat(e.toString()):"".concat(v.a,"/api/notes/GetNotes?").concat(e.toString()),a=await fetch(t);if(a.ok){const e=await a.json();l(e)}else console.error("Failed to fetch notes")}catch(e){console.error("Error fetching notes",e)}},[d,x,h,j,p,u,ce]),me=Object(n.useCallback)(async()=>{try{const e=await fetch("".concat(v.a,"/api/notes/tags"));if(e.ok){const t=await e.json();ie(t)}}catch(e){console.error("Error fetching tags",e)}},[]);Object(n.useEffect)(()=>{pe(),me()},[pe,me]);const ue=Object(n.useCallback)(e=>{"note_update"===e.type&&(pe(),me())},[pe,me]);X(v.b,ue),Object(n.useEffect)(()=>{const e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),K(!0))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const be=Object(n.useCallback)(e=>{switch(K(!1),e){case"create-note":ne(!0),oe(null);break;case"search":setTimeout(()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.focus()},0);break;case"dashboard":D(!0),A(!1),P(!1),W(!1);break;case"trash":A(!0),D(!1),P(!1),W(!1);break;case"export":case"import":P(!0);break;case"dark-mode":t();break;case"focus-mode":Z(!0);break;case"deadlines":W(!0),D(!1),A(!1),P(!1)}},[t]),ge=Object(n.useCallback)(e=>{oe(e),ne(!0)},[]),xe=Object(n.useCallback)(async e=>{try{await fetch("".concat(v.a,"/api/notes/").concat(e,"/fetch-news"),{method:"POST"}),await pe()}catch(t){console.error("Error fetching news",t)}},[pe]),ye=Object(n.useCallback)(async e=>{try{await fetch("".concat(v.a,"/api/notes/").concat(e,"/fetch-tweets"),{method:"POST"}),await pe()}catch(t){console.error("Error fetching tweets",t)}},[pe]),he=Object(n.useCallback)(async e=>{try{await fetch("".concat(v.a,"/api/notes/").concat(e,"/update-financial"),{method:"POST",headers:{"Content-Type":"application/json"}}),await pe()}catch(t){console.error("Error updating financial",t)}},[pe]),fe=Object(n.useCallback)(async e=>{try{await fetch("".concat(v.a,"/api/notes/").concat(e,"/update-all"),{method:"POST"}),await pe()}catch(t){console.error("Error updating all",t)}},[pe]);Object(n.useEffect)(()=>{pe()},[pe]);const ve=Object(n.useCallback)(async e=>{try{(await fetch("".concat(v.a,"/api/notes/AddNote"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(pe(),me()):console.error("Failed to add note")}catch(t){console.error("Error adding note",t)}},[pe,me]),Ee=Object(n.useCallback)(async(e,t)=>{try{(await fetch("".concat(v.a,"/api/notes/UpdateNote/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?(pe(),me()):console.error("Failed to update note")}catch(a){console.error("Error updating note",a)}},[pe,me]),we=Object(n.useCallback)(e=>{ve(e)},[ve]),ke=Object(n.useCallback)(async e=>{try{(await fetch("".concat(v.a,"/api/notes/import"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:e})})).ok&&(pe(),me())}catch(t){console.error("Error importing notes",t)}},[pe,me]),Oe=Object(n.useMemo)(()=>{const e=(ce-1)*se;return o.slice(e,e+se)},[o,ce,se]),je=Math.ceil(o.length/se);async function Se(e,t){try{(await fetch("".concat(v.a,"/api/notes/").concat(e,"/pin"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isPinned:t})})).ok&&pe()}catch(a){console.error("Error pinning note",a)}}async function Ce(e,t){try{(await fetch("".concat(v.a,"/api/notes/").concat(e,"/archive"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isArchived:t})})).ok&&pe()}catch(a){console.error("Error archiving note",a)}}async function Re(e,t){try{(await fetch("".concat(v.a,"/api/notes/").concat(e,"/trash"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isDeleted:t})})).ok&&pe()}catch(a){console.error("Error trashing note",a)}}async function Te(e){try{const t=await fetch("".concat(v.a,"/api/notes/DeleteNote/").concat(e),{method:"DELETE"});t.ok?t.json().then(t=>{l(t=>t.filter(t=>t._id!==e))}):console.error("Failed to delete note")}catch(t){console.error("Error deleting note",t)}}const Ae=Object(n.useCallback)(async e=>{re?(await Ee(re,e),oe(null)):await ve(e),ne(!1)},[re,Ee,ve]),Ne=Object(n.useCallback)(e=>{ve({title:"Voice Note",content:e,tags:["voice"]}),Q(!1)},[ve]),Pe=Object(n.useCallback)(e=>{ve({title:"Drawing",content:"See attached drawing",attachments:[{type:"image",url:e}],tags:["drawing"]}),te(!1)},[ve]);return r.a.createElement("div",{style:{background:"dark"===e?"#1a1a1a":"#eee",minHeight:"100vh",paddingBottom:"60px"}},r.a.createElement(i,null),r.a.createElement(C,null),r.a.createElement(F,{isOpen:H,onClose:()=>K(!1),onCommand:be}),G&&r.a.createElement(M,{onExit:()=>Z(!1)},r.a.createElement("div",{style:{maxWidth:"800px",margin:"0 auto"}},r.a.createElement(f,{onAdd:ve}),o.slice(0,5).map(e=>r.a.createElement(g,{key:e._id,id:e._id,title:e.title,content:e.content,tags:e.tags||[],priority:e.priority,isPinned:e.isPinned,isArchived:e.isArchived,deadline:e.deadline,news:e.news,financial:e.financial,social:e.social,attachments:e.attachments,drawings:e.drawings,onDelete:()=>Te(e._id),onUpdate:Ee,onPin:Se,onArchive:Ce,onTrash:Re,onOpenEnhancedEdit:()=>ge(e._id),onFetchNews:xe,onFetchTweets:ye,onUpdateFinancial:he,onUpdateAll:fe,onIntegrationComplete:pe})))),ae&&r.a.createElement(J,{note:re?o.find(e=>e._id===re):null,onSave:Ae,onCancel:()=>{ne(!1),oe(null)}}),$&&r.a.createElement("div",{style:{width:"600px",margin:"20px auto"}},r.a.createElement(z,{onTranscript:Ne})),ee&&r.a.createElement("div",{style:{width:"900px",margin:"20px auto"}},r.a.createElement(_,{onSave:Pe})),Y&&!ae&&!$&&!ee&&r.a.createElement("div",{style:{width:"95%",margin:"20px auto"}},r.a.createElement("div",{style:{marginBottom:"10px",display:"flex",justifyContent:"space-between"}},r.a.createElement("h2",{style:{color:"var(--text-primary)"}},"Split View"),r.a.createElement("button",{onClick:()=>q(!1),style:{padding:"8px 16px",background:"#999",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Exit Split View")),r.a.createElement(I,{notes:o,selectedNoteId:re,onNoteSelect:oe,onUpdate:Ee,onDelete:Te,onPin:Se,onArchive:Ce,onTrash:Re,onOpenEnhancedEdit:ge,onFetchNews:xe,onFetchTweets:ye,onUpdateFinancial:he,onUpdateAll:fe,onIntegrationComplete:pe})),!Y&&!ae&&!$&&!ee&&!G&&r.a.createElement("div",{className:"navigation-buttons",style:{width:"95%",maxWidth:"1200px",margin:"20px auto",display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap"}},r.a.createElement("button",{onClick:()=>{A(!1),P(!1),D(!1),W(!1)},style:{padding:"8px 16px",background:T||N||B||L?"#999":"#f5ba13",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Notes"),r.a.createElement("button",{onClick:()=>{A(!1),P(!1),D(!0),W(!1)},style:{padding:"8px 16px",background:B?"#f5ba13":"#999",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Dashboard"),r.a.createElement("button",{onClick:()=>{W(!0),A(!1),P(!1),D(!1)},style:{padding:"8px 16px",background:L?"#f5ba13":"#999",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},r.a.createElement("span",{role:"img","aria-label":"Deadlines"},"\ud83d\udcc5")," Deadlines"),r.a.createElement("button",{onClick:()=>{A(!0),P(!1),D(!1),W(!1)},style:{padding:"8px 16px",background:T?"#f5ba13":"#999",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Trash"),r.a.createElement("button",{onClick:()=>{A(!1),P(!N),D(!1)},style:{padding:"8px 16px",background:N?"#f5ba13":"#999",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Export/Import"),r.a.createElement("button",{onClick:()=>{q(!0)},style:{padding:"8px 16px",background:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Split View"),r.a.createElement("button",{onClick:()=>{Q(!0),te(!1)},style:{padding:"8px 16px",background:"#9C27B0",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},r.a.createElement("span",{role:"img","aria-label":"Voice recorder"},"\ud83c\udfa4")," Voice"),r.a.createElement("button",{onClick:()=>{te(!0),Q(!1)},style:{padding:"8px 16px",background:"#FF9800",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},r.a.createElement("span",{role:"img","aria-label":"Drawing tool"},"\u270f\ufe0f")," Draw"),r.a.createElement("button",{onClick:()=>{ne(!0),oe(null)},style:{padding:"8px 16px",background:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"+ Enhanced")),B?r.a.createElement(U,null):T?r.a.createElement(E,{onRestore:pe,onDeletePermanent:pe}):N?r.a.createElement(w,{notes:o,onImport:ke}):L?r.a.createElement(V,{onRefresh:pe}):Y||ae||$||ee?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-filter-container",style:{width:"480px",margin:"20px auto",padding:"15px",background:"var(--bg-secondary)",borderRadius:"7px",boxShadow:"0 1px 5px var(--shadow)"}},r.a.createElement("input",{ref:a,type:"text",placeholder:"Search notes...",value:d,onChange:e=>s(e.target.value),style:{width:"100%",padding:"8px",fontSize:"14px",border:"1px solid #ddd",borderRadius:"4px",marginBottom:"10px"}}),r.a.createElement("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginBottom:"10px"}},r.a.createElement("select",{value:p,onChange:e=>m(e.target.value),style:{padding:"6px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"4px"}},r.a.createElement("option",{value:"updatedAt"},"Sort by: Updated"),r.a.createElement("option",{value:"createdAt"},"Sort by: Created"),r.a.createElement("option",{value:"title"},"Sort by: Title"),r.a.createElement("option",{value:"priority"},"Sort by: Priority")),r.a.createElement("button",{onClick:()=>b("asc"===u?"desc":"asc"),style:{padding:"6px 12px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"4px",background:"#f5ba13",color:"white",cursor:"pointer"}},"asc"===u?"\u2191":"\u2193"),r.a.createElement("select",{value:h,onChange:e=>O(e.target.value),style:{padding:"6px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"4px"}},r.a.createElement("option",{value:""},"All Priorities"),r.a.createElement("option",{value:"urgent"},"Urgent"),r.a.createElement("option",{value:"high"},"High"),r.a.createElement("option",{value:"medium"},"Medium"),r.a.createElement("option",{value:"low"},"Low")),r.a.createElement("button",{onClick:()=>R(!j),style:{padding:"6px 12px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"4px",background:j?"#ff9800":"#fff",color:j?"white":"black",cursor:"pointer"}},j?"\ud83d\udce6 Archived":"\ud83d\udcc1 Archive")),le.length>0&&r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("div",{style:{fontSize:"12px",marginBottom:"5px"}},"Filter by tags:"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px"}},le.map(e=>r.a.createElement("button",{key:e,onClick:()=>{x.includes(e)?y(x.filter(t=>t!==e)):y([...x,e])},style:{padding:"4px 8px",fontSize:"11px",border:"1px solid #ddd",borderRadius:"12px",background:x.includes(e)?"#f5ba13":"#fff",color:x.includes(e)?"white":"black",cursor:"pointer"}},e))))),r.a.createElement("div",{style:{position:"relative",width:"480px",margin:"20px auto"}},r.a.createElement(k,{onSelectTemplate:we})),r.a.createElement(f,{onAdd:ve}),o.length>se&&r.a.createElement("div",{style:{width:"480px",margin:"10px auto",textAlign:"center",color:"var(--text-secondary)",fontSize:"14px"}},"Showing ",(ce-1)*se+1," - ",Math.min(ce*se,o.length)," of ",o.length," notes"),0===Oe.length?r.a.createElement("div",{style:{textAlign:"center",padding:"20px",color:"var(--text-secondary)"}},j?"No archived notes":d?"No notes found":"No notes yet. Create one!"):r.a.createElement(r.a.Fragment,null,Oe.map(e=>r.a.createElement(g,{key:e._id,id:e._id,title:e.title,content:e.content,tags:e.tags||[],priority:e.priority,isPinned:e.isPinned,isArchived:e.isArchived,deadline:e.deadline,news:e.news,financial:e.financial,social:e.social,attachments:e.attachments,drawings:e.drawings,onDelete:()=>Te(e._id),onUpdate:Ee,onPin:Se,onArchive:Ce,onTrash:Re,onOpenEnhancedEdit:()=>ge(e._id),onFetchNews:xe,onFetchTweets:ye,onUpdateFinancial:he,onUpdateAll:fe,onIntegrationComplete:pe})),je>1&&r.a.createElement("div",{className:"pagination-controls",style:{width:"480px",margin:"20px auto",display:"flex",justifyContent:"center",gap:"10px"}},r.a.createElement("button",{onClick:()=>de(e=>Math.max(1,e-1)),disabled:1===ce,style:{padding:"8px 16px",background:1===ce?"#ccc":"#f5ba13",color:"white",border:"none",borderRadius:"4px",cursor:1===ce?"not-allowed":"pointer"}},"Previous"),r.a.createElement("span",{style:{padding:"8px 16px",color:"var(--text-primary)"}},"Page ",ce," of ",je),r.a.createElement("button",{onClick:()=>de(e=>Math.min(je,e+1)),disabled:ce===je,style:{padding:"8px 16px",background:ce===je?"#ccc":"#f5ba13",color:"white",border:"none",borderRadius:"4px",cursor:ce===je?"not-allowed":"pointer"}},"Next")))),r.a.createElement(c,null))};l.a.render(r.a.createElement(j,null,r.a.createElement(Y,null)),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.09c105dc.chunk.js.map